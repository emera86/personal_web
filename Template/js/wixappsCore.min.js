define("wixappsCore/core/proxyFactory",["lodash","react","utils"],function(a,b,c){"use strict";function f(a,b){b.displayName=a+"Proxy",d[a]=b}function g(c,f){a.has(d,c)||(c="View");var h=e[c];if(h)return f?h["class"]:h.factory;var i=d[c];if(!i)throw"no such proxy definition for name: "+c;var j=b.createClass(i);return h=b.createFactory(j),e[c]={"class":j,factory:h},g(c,f)}function h(a){delete e[a]}function i(a,b){if(!d.hasOwnProperty(a))return void c.log.error("Trying to extend component ["+a+"] but the component is not defined");var e=d[a];e.mixins=[b].concat(e.mixins||[])}function j(b){return a.has(d,b)}var d={},e={},k=function(a){return{displayName:a,render:function(){return b.DOM.div(null,a)}}},l=["Label","ClippedParagraph","ClippedParagraph2","Date","DateEdit","TimeEdit","InlineText","InlineTextInput","TextInput","ErasableTextInput","NumberInput","NumericStepper","CheckBox","CheckBoxViewProxy","RichTextEditor","RichTextEditorInline","Price","EnumSelector","Image","Video","VideoSelector","VideoThumb","ImageSelector","ImageInput","VerticalList","FlowList","MultiColumn","VerticalListEditor","DraggableListItem","Box","VBox","HBox","Field","FieldBox","TextField","DataEditField","Stack","Css","InlineSpacer","HorizontalLine","VerticalLine","Switch","SwitchBox","OptionalArea","SuperFlow","Button","Button2","Table","Deck","TabMenu","Icon","StringArrayInput","Toggle","MusicPlayer","AudioInput","InlineSvg","Link","LinkSelector","OptionsList","SelectOptionsList","OptionsListInput","ComboBox","RadioGroup","CheckBoxGroup","TextArea","Area","Container","ZoomLink","AppLink","ZoomLayout","FixedRatioLayout","GoogleMap","LocationSelector","TagInput","DragAndDropVList","List2","PaginatedList","UnstyledLabel","TooltipIcon","Help","IFrame","ImageButton","TPAGallery","MediaRichTextEditorInline","MediaLabel","MediaThumb","Gallery","GridGallery","SliderGallery","ColumnGallery","PaginatedColumnGallery"];return a.forEach(l,function(a){f(a,k(a))}),{getProxyClass:g,register:f,invalidate:h,extend:i,isValidProxyName:j}}),define("wixappsCore/core/ViewContextMap",["lodash"],function(a){"use strict";function d(b){return a.isString(b)?a.compact(b.split(/[\.\[\]]/)):b}function e(c){return a.initial(c.split(b)).join(b)}function f(a,c,d){return a?c&&this.contextMap[c]?c:a+b+String(d.index++):"0"}function g(b,c,d){for(var f=b;f;){if(a.has(this.contextMap[f][c],d))return this.contextMap[f][c];f=e(f)}}function h(){this.contextMap={}}function i(a,b,c){for(;a.length>1;)b=b[a.shift()];b[a.shift()]=c}var b="_",c=".";return h.prototype={resolvePath:function(b,c){var f=a.flattenDeep(a.map(d(c),d)),g=b,h=[];if(a.forEach(f,function(a){if("parent"===a){if(g=e(g),!g)throw"Error:: no parent context."}else"this"!==a&&h.push(a)}),!this.contextMap[g])return null;if(this.contextMap[g].scopePath.length&&a.every(this.contextMap[g].scopePath,a.isArray)&&h.length&&a.isNumber(h[0])){var i=h.shift();return this.contextMap[g].scopePath[i].concat(h)}return this.contextMap[g].scopePath.concat(h)},newContextForDataItem:function(b,c,d,e,g,h){var i=f.call(this,b,h,this.contextMap[b]);return this.contextMap[i]&&a.isEqual(this.contextMap[i].scopePath,c)||(this.contextMap[i]={vars:d||{},events:e||{},functionLibrary:g||{},scopePath:c,index:0}),i},newContextForDataPath:function(b,d,e,f,g,h){var i=this.contextMap[b],j=a.isArray(d)?d:d.split(c);j=a.flattenDeep(a.map(j,function(b){return a.isString(b)?b.split(c):b})),j=a.without(j,"this");var k=i.scopePath.concat(j);return this.newContextForDataItem(b,k,e,f,g,h)},getVar:function(a,b){b=b.replace(/^\$/,"");var c=g.call(this,a,"vars",b);return c&&c[b]},setVar:function(b,c,d){var e=c.replace(/^\$/,"").split("."),f=a.first(e),h=g.call(this,b,"vars",f);h&&i(e,h,d)},overrideContextVars:function(b,c){if(!this.hasContext(b))throw"Context does not exist";a.assign(this.contextMap[b].vars,c)},getEvent:function(a,b){var c=g.call(this,a,"events",b);return c&&c[b]},getExpressionsFunctions:function(b){for(var c=b,d={};c;)a.defaults(d,this.contextMap[c].functionLibrary),c=e(c);return d},resetContext:function(){this.contextMap={}},hasContext:function(b){return a.has(this.contextMap,b)}},h}),define("wixappsCore/util/styleMapping",["lodash"],function(a){"use strict";function c(a){return b[a]}function d(c){return a.invert(b)[c]}var b={Title:"font_0",Menu:"font_1","Page title":"font_2","Heading XL":"font_3","Heading L":"font_4","Heading M":"font_5","Heading S":"font_6","Body L":"font_7","Body M":"font_8","Body S":"font_9","Body XS":"font_10"};return{styleToFontClass:c,fontClassToStyle:d}}),define("wixappsCore/core/expressions/functionLibrary",["lodash","wixappsCore/util/styleMapping","experiment"],function(a,b,c){"use strict";function e(){var b={},c=function(b,d,e){a.forEach(d,function(a,d){"function"==typeof a?b[e+d]=a:"object"==typeof a&&c(b,a,d+".")})};return c(b,d,""),b}function f(a){this.siteData=a}var d={getFromLocalStorage:function(a){return window.localStorage.getItem(a)},parseFromJSON:function(a){return JSON.parse(a)||{}},getObjectMember:function(b,c){return a.get(b,c,!1)},and:function(){for(var a=0;a<arguments.length;a++)if(arguments[a]===!1)return!1;return!0},or:function(){for(var a=0;a<arguments.length;a++)if(arguments[a]===!0)return!0;return!1},"if":function(a,b,c){return a?b:c},eq:function(a,b){return a===b},ne:function(a,b){return a!==b},not:function(a){return!a},"!":function(a){return!a},gt:function(a,b){return a>b},gte:function(a,b){return a>=b},lt:function(a,b){return b>a},lte:function(a,b){return b>=a},toString:function(a){return a.toString?a.toString():""+a},toJson:function(a){return JSON.stringify(a)},mod:function(a,b){return a%b},add:function(){for(var a=0,b=0;b<arguments.length;b++)a+=arguments[b];return a},mult:function(){for(var a=1,b=0;b<arguments.length;b++)a*=arguments[b];return a},sub:function(a,b){return a-b},div:function(a,b){return a/b},negate:function(a){return-a},match:function(a,b,c){return a===b?c:void 0},"true?":function(a,b){return Boolean(a)===!0?b:void 0},"false?":function(a,b){return Boolean(a)===!1?b:void 0},"else":function(a,b){return void 0===a?b:a},map:function(){for(var a=1;a<arguments.length-1;a+=2)if(arguments[0]===arguments[a])return arguments[a+1];return arguments.length%2===0?arguments[arguments.length-1]:arguments[0]},Math:{floor:function(a){return Math.floor(a)},round:function(a){return Math.round(a)}},Array:{length:function(a){return a.length},isEmpty:function(a){return null===a||0===a.length},slice:function(a,b,c){return a.slice(b,c)},join:function(a,b){return a.join(b)},filter:function(a,b,c){return a.filter(function(a){return c.contains(a[b])})},itemAt:function(a,b){return a[b]},fromArgs:function(){return a.toArray(arguments)},includes:function(b,c){return a.includes(b,c)}},RichText:{isEmpty:function(a){return"<div></div>"===a.text}},String:{length:function(a){return String(a).length},isEmpty:function(a){return null===String(a)||0===String(a).length},charAt:function(a,b){return String(a).charAt(b)},charCodeAt:function(a,b){return String(a).charCodeAt(a,b)},concat:function(){return a.reduce(arguments,function(a,b){return a.concat(String(b))},"")},indexOf:function(a,b){return String(a).indexOf(b)},lastIndexOf:function(a,b){return String(a).lastIndexOf(b)},match:function(a,b){return String(a).match(new RegExp(b))},replace:function(a,b,c){return String(a).replace(b,c)},search:function(a,b){return String(a).search(new RegExp(b))},slice:function(a,b,c){return String(a).slice(b,c)},split:function(a,b){return String(a).split(b)},substr:function(a,b,c){return String(a).substr(b,c)},substring:function(a,b,c){return String(a).substring(b,c)},toLowerCase:function(a){return String(a).toLowerCase()},toUpperCase:function(a){return String(a).toUpperCase()},contains:function(a,b){return String(a).contains(b)},trim:function(a){return String(a).trim()},toInt:function(a){return parseInt(a,10)},toFloat:function(a){return parseFloat(a)}},Date:{createDate:function(a){return a?new Date(a):new Date},getBefore:function(a,b,c,d){var e=d?new Date(d):new Date;return e.setDate(e.getDate()-a),e.setMonth(e.getMonth()-b),e.setFullYear(e.getFullYear()-c),e},getAfter:function(a,b,c,d){var e=d?new Date(d):new Date;return e.setDate(e.getDate()-a),e.setMonth(e.getMonth()-b),e.setFullYear(e.getFullYear()-c),e}},Theme:{getColor:function(b){var c=this.siteData.getColor(b);return"#"!==c[0]?!a.includes(c,"rgb")&&a.includes(c,",")?"rgba("+c+")":"#"+c:c}},Styles:{fontToTextStyle:function(a){return b.fontClassToStyle("font_"+a)},calcFontSize:function(a){return 3*a+9}},Mobile:{zoom:function(){return this.siteData.isMobileView()?1/this.siteData.mobile.getZoom():1}},experiment:function(a){return c.isOpen(a)},newBlogSocialIconSourceFor:function(a){return this.siteData.santaBase+"/static/images/new-blog-social-icons/"+a+".svg"},invertAlignment:function(a){switch(a){case"left":return"right";case"right":return"left";default:return a}}};return f.prototype=e(),f.prototype.addFunctions=function(b){a.assign(f.prototype,b)},f}),define("wixappsCore/core/viewsRenderer",["lodash","wixappsCore/core/proxyFactory","wixappsCore/core/ViewContextMap","wixappsCore/core/expressions/functionLibrary","animations","reactDOM","zepto"],function(a,b,c,d,e,f,g){"use strict";function h(b){return!a.isEqual(this.rootDataItemRef,this.getRootDataItemRef())||this.isChanged&&this.isChanged(b)}function i(){var a=1,b=0,c=f.findDOMNode(this),d=g(c).offset().top;e.animate("BaseScroll",window,a,b,{y:d,ease:"Sine.easeInOut"})}return{componentWillMount:function(){this.viewContextMap=new c(this),this.functionLibrary=new d(this.props.siteData)},getDataAspect:function(){return this.props.siteAPI.getSiteAspect("wixappsDataAspect")},getAppService:function(){return this.props.siteData.getClientSpecMapEntry(this.props.compData.appInnerID)},getPackageName:function(a){var b=this.getAppService(a||this.props.siteData);return b&&(b.packageName||b.type)},getAppDescriptor:function(){var a=this.getDataAspect(),b=this.getPackageName();return a.getDescriptor(b)},getFormatName:function(){return this.props.siteData.isMobileView()?"Mobile":""},getNormalizedDataPath:function(a,b){return null===a?b:this.viewContextMap.resolvePath(a,b)},getDataByPath:function(a,b){if(null===a)return this.getDataByFullPath(b);var c=this.getPackageName(),d=this.getDataAspect(),e=this.getNormalizedDataPath(a,b);return d.getDataByPath(c,e)},getDataByFullPath:function(b){function e(b){return a.flattenDeep(a.map(b,function(b){return a.isString(b)?b.split("."):b}))}var c=this.getPackageName(),d=this.getDataAspect(),f=[];return a.every(b,a.isArray)?f=a.map(b,function(b){var c=e(b);return a.without(c,"this")}):(f=e(b),f=a.without(f,"this")),d.getDataByPath(c,f)},setDataByPath:function(a,b,c){var d=this.getPackageName(),e=this.getDataAspect(),f=this.getNormalizedDataPath(a,b);return e.setDataByPath(d,f,c)},setVar:function(a,b,c,d){this.viewContextMap.setVar(a,b,c),d||(this.registerReLayout(),this.forceUpdate())},getCompExtraData:function(){var a=this.getDataAspect();return a.getExtraDataByCompId(this.getPackageName(),this.props.compData.id)},componentWillUpdate:function(a){"content"===this.state.$displayMode&&h.call(this,a)&&this.viewContextMap.resetContext()},renderView:function(c){var d=this.getPackageName(),e={viewProps:{getPartData:this.getPartData,getPartDefinition:this.getPartDefinition,resolveImageData:this.resolveImageData,getNormalizedDataPath:this.getNormalizedDataPath,getDataByPath:this.getDataByPath,setDataByPath:this.setDataByPath,getDataByFullPath:this.getDataByFullPath,getViewDef:this.getViewDef,getLocalizationBundle:this.getLocalizationBundle,classSet:this.classSet,setVar:this.setVar,siteAPI:this.props.siteAPI,siteData:this.props.siteData,compProp:this.props.compProp,loadedStyles:this.props.loadedStyles,compId:this.props.id,packageName:d,rootId:this.props.rootId,rootNavigationInfo:this.props.rootNavigationInfo},functionLibrary:this.functionLibrary,viewContextMap:this.viewContextMap,viewName:this.getViewName(),formatName:this.props.formatName||this.getFormatName(),parentId:this.props.id,ref:"rootProxy",parentContextPath:null},f={viewName:e.viewName,partDirection:this.props.compProp.direction||"ltr"};this.props.style&&this.props.style.width&&(f.compWidth=this.props.style.width),this.logic&&(e.logic=this.logic,this.logic.getViewVars&&(f=a.defaults(this.logic.getViewVars(this.getCompExtraData()),f))),this.rootDataItemRef=this.getRootDataItemRef(),e.contextProps={path:this.rootDataItemRef,vars:{view:f,proxy:{}},events:{scrollToView:a.bind(i,this)},functionLibrary:{}},e.proxyLayout={direction:f.partDirection},c&&(e.proxyLayout.height="100%");var g=b.getProxyClass("View");return g(e)}}}),define("wixappsCore/core/viewsCustomizer",["lodash","wixappsCore/core/proxyFactory"],function(a,b){"use strict";function c(a,b){var c=[];return"vars"===b.fieldId?c.push(a.vars):d(a,b,0,c),c}function d(b,c,e,f){var g=b.id||b.data||e;"*"!==c.fieldId&&c.fieldId!==g||f.push(b),b.comp&&b.comp.items&&a.forEach(b.comp.items,function(a,b){d(a,c,b,f)}),b.comp&&b.comp.templates&&a.forEach(b.comp.templates,function(a){d(a,c,0,f)}),b.comp&&b.comp.cases&&a.forEach(b.comp.cases,function(b){a.isArray(b)?a.forEach(b,function(a){d(a,c,0,f)}):d(b,c,0,f)}),b.comp&&b.comp.columns&&"Table"===b.comp.name&&a.forEach(b.comp.columns,function(b){a.forEach(["item","header","footer"],function(a){void 0!==b[a]&&d(b[a],c,0,f)})})}function e(a,b){return!("*"!==b.forType&&a.forType!==b.forType||"*"!==b.view&&a.name!==b.view||"*"!==b.format&&(a.format||"")!==(b.format||""))}function f(c){var d=a(arguments).rest().flatten().value();return a.forEach(d,function(a){b.isValidProxyName(a.view)&&(a.view+="View"),e(c,a)&&this.applyCustomization(c,a)},this),c}function g(b,d){var e=b.format||"",f=d.format||"";if("*"===f||f===e){var g=c(b,d);a.forEach(g,function(b){if(a.isPlainObject(b))for(var c=b,e=d.key.split("."),f=0;f<e.length;f++){var g=e[f];if(f===e.length-1){var h=d.value;/^\s*(\+|-)?\d+\s*$/.test(d.value)&&(h=parseInt(h,10)),void 0===h?delete c[g]:c[g]=h}else c[g]||(c[g]={}),c=c[g]}})}}return{customizeView:f,applyCustomization:g}}),define("wixappsCore/core/logicFactory",["lodash","utils"],function(a,b){"use strict";function d(a,b){c[a]=b}function e(a){return c[a]}function f(d,e){return c.hasOwnProperty(d)?void a.assign(c[d].prototype,e):void b.log.error("Trying to extend logic for partId: ["+d+"] but the partId is not defined")}var c={};return{register:d,getLogicClass:e,extend:f}}),define("wixappsCore/core/expressions/expressionLexer",["lodash"],function(a){"use strict";function c(a){if(a.length){var b=d(a)||e(a)||f(a);return b?[b].concat(this.parseExpression(a.slice(b.length))):this.parseExpression(a.slice(1))}return[]}function d(c){var d=["'",'"'],e=function(a,c){if(a.length){if(b=a.charAt(0),"\\"===b&&a.length>1)return b+a.charAt(1)+e(a.slice(2),c);if(b!==c)return b+e(a.slice(1),c)}return""};return b=c.charAt(0),a.includes(d,b)?'"'+e(c.slice(1),b)+'"':void 0}function e(a){var b=/[\w\*\/\-\%\+\$]/,c=/[\w\*\/\-\%\+\.\$\[\]\?_]/,d=function(a){var b=a.charAt(0);return a.length&&b.match(c)?b+d(a.slice(1)):""},e=a.charAt(0);return e.match(b)?e+d(a.slice(1)):void 0}function f(a){return b=a.charAt(0),"("===b||")"===b?b:void 0}var b;return{parseExpression:c}}),define("wixappsCore/core/expressions/expressionParser",["wixappsCore/core/expressions/expressionLexer"],function(a){"use strict";function d(d){var g=a.parseExpression(d),h="("===g[0]?c:b,i=e(g,h);return f(i)}function e(a,b){if(a.length){var c=g(a,b)||i(a,b)||k(a,b);if(c)return[c.node].concat(e(c.next,b))}return[]}function f(a){function b(a){return"function"===a.type}if(a.length>0&&a.every(b)){var c=a.slice(1).reduce(function(a,b){return{type:b.type,content:b.content,params:[a].concat(f(b.params))}},a[0]);return[c]}return a}function g(a,b){var d=b===c?0:1,f=b===c?1:0;if("("===a[d]&&"string"==typeof a[f]){var g=h(a);return{next:a.slice(g.length+3),node:{type:"function",content:a[f],params:e(g,b)}}}}function h(a){var b=function(a,c){if(!(a.length&&c>0))return[];var d=a[0],e=a.slice(1);switch(d){case"(":return[d].concat(b(e,c+1));case")":return[d].concat(b(e,c-1));default:return[d].concat(b(e,c))}};return b(a.slice(2),1).slice(0,-1)}function i(a){var b,c=a[0];return"true"===c?b=!0:"false"===c?b=!1:'"'===c.charAt(0)&&'"'===c.charAt(c.length-1)||"'"===c.charAt(0)&&"'"===c.charAt(c.length-1)?b=j(c.slice(1,c.length-1)):isNaN(parseFloat(c,10))?isNaN(parseInt(c,10))||(b=parseInt(c,10)):b=parseFloat(c,10),void 0!==b?{next:a.slice(1),node:{type:"primitive",content:b}}:void 0}function j(a){return a=a.replace(/\\/g,"")}function k(a){return{next:a.slice(1),node:{type:"ref",content:a[0]}}}var b=0,c=1;return{parseExpressionSource:d}}),define("wixappsCore/core/expressions/expression",["wixappsCore/core/expressions/expressionParser","lodash"],function(a,b){"use strict";function c(a){return"object"==typeof a&&b.has(a,"$expr")}function d(b,c,d){var e=a.parseExpressionSource(c)[0];return g(b,e,c,d)}function e(a,c,d,e){var f=b.map(c.params,function(b){return g(a,b,d,e)}),h=e[c.content];if(!h)throw new Error("Expression: "+d+" | Cannot resolve function "+c.content+"()");return h.apply(e,f)}function f(a,b,c){var d=a(b.content);if(void 0===d)throw new Error("Expression: "+c+" | Cannot resolve symbol "+b.content);return d}function g(a,b,c,d){switch(b.type){case"primitive":return h(b.content);case"ref":return f(a,b,c,d);case"function":return e(a,b,c,d)}}function h(a){return b.isString(a)?/^\s*(\+|-)?\d+\s*$/.test(a)?parseInt(a,10):"true"===a?!0:"false"===a?!1:"null"===a?null:a:a}return{isExpression:c,evaluate:d,convertStringToPrimitive:h}}),define("wixappsCore/util/viewsUtils",["lodash","wixappsCore/core/expressions/expression"],function(a,b){"use strict";function c(b,d){b.id=b.id||b.data||"def_"+d;var e=d+1;return b.comp&&b.comp.items&&a.forEach(b.comp.items,function(a){e=c(a,e)}),b.comp&&b.comp.templates&&a.forEach(b.comp.templates,function(a){e=c(a,e)}),b.comp&&b.comp.cases&&a.forEach(b.comp.cases,function(b){a.isArray(b)?a.forEach(b,function(a){e=c(a,e)}):e=c(b,e)}),b.comp&&b.comp.columns&&"Table"===b.comp.name&&a.forEach(b.comp.columns,function(b){a.forEach(["item","header","footer"],function(a){void 0!==b[a]&&(e=c(b[a],e))})}),e}function d(b,c){var e=c(b);if(e!==!1){var f=["items","cases","templates"];a.forEach(f,function(f){return b.comp&&b.comp[f]?(a.forEach(b.comp[f],function(b){return a.isArray(b)?a.forEach(b,function(a){return e=d(a,c)}):e=d(b,c),e}),e):void 0})}return e}function e(b,c,d){return a.compact([b,c,d]).join("|")}function f(b){if(a.isString(b)){var c=/[^\|]+\|([^\|]+).*/,d=b.match(c);return d?d[1]:null}}function g(a,c){return c.comp&&b.convertStringToPrimitive(c.comp[a])}function h(b,c,d,e){var f=a.find(b.views,function(b){var f=a.isArray(b.name)?b.name:[b.name],g=b.format||"";return b.forType===d&&g===e&&a.includes(f,c)});return!f&&e&&(f=a.find(b.views,function(b){var e=a.isArray(b.name)?b.name:[b.name],f=b.format||"";return b.forType===d&&""===f&&a.includes(e,c)})),f}return{fillViewDefMissingIDs:function(a){c(a,0)},sanitizeCompId:function(a){return a.replace(/[\$:]/g,"")},traverseViews:d,getViewId:e,getViewNameFromId:f,getCompProp:g,findViewInDescriptorByNameTypeAndFormat:h}}),define("wixappsCore/core/styleMap",[],function(){"use strict";var a={Area:{"default":{skin:"wysiwyg.viewer.skins.area.AppleArea",style:"c1"},ecomCouponBox:{skin:"wysiwyg.viewer.skins.apps.DefaultBoxSkin",style:"ecom_cbx1"},ecomCartHeader:{skin:"wysiwyg.viewer.skins.apps.DefaultBoxSkin",style:"ecom_ch1"},ecomEmptyCartBG:{skin:"wysiwyg.viewer.skins.apps.DefaultBoxSkin",style:"ecom_ecbg1"}},Button:{"default":{skin:"wysiwyg.viewer.skins.button.BasicButton",style:"b3"},ecomViewCart:{skin:"wysiwyg.viewer.skins.button.BasicButton",style:"ecom_vc1"},ecomCheckout:{skin:"wysiwyg.viewer.skins.button.DisabledLayerButton",style:"ecom_co1"},ecomAddToCart:{skin:"wysiwyg.viewer.skins.button.BasicButton",style:"ecom_atc1"},ecomRemoveFromCart:{skin:"wysiwyg.viewer.skins.button.FixedFontButton",style:"ecom_rfc1"},ecomApplyCoupon:{skin:"wysiwyg.viewer.skins.button.ApplyButtonEcom",style:"ecom_apl1"},ecomAddProduct:{skin:"wysiwyg.viewer.skins.button.AddProductButton",style:"ecom_ap1"}},Button2:{"default":{skin:"wysiwyg.viewer.skins.button.BasicButton",style:"b3"},ecomViewCart:{skin:"wysiwyg.viewer.skins.button.BasicButton",style:"ecom_vc1"},ecomCheckout:{skin:"wysiwyg.viewer.skins.button.DisabledLayerButton",style:"ecom_co1"},ecomAddToCart:{skin:"wysiwyg.viewer.skins.button.BasicButton",style:"ecom_atc1"},ecomRemoveFromCart:{skin:"wysiwyg.viewer.skins.button.FixedFontButton",style:"ecom_rfc1"},ecomApplyCoupon:{skin:"wysiwyg.viewer.skins.button.ApplyButtonEcom",style:"ecom_apl1"},ecomAddProduct:{skin:"wysiwyg.viewer.skins.button.AddProductButton",style:"ecom_ap1"},ecomFeedbackContinueShopping:{skin:"wysiwyg.viewer.skins.button.EcomFeedbackContinueShopping",style:"ecom_fmcs1"},ecomFeedbackContinueShopping2:{skin:"wysiwyg.viewer.skins.button.EcomFeedbackContinueShopping2",style:"ecom_fmcs2"},ecomFeedbackCheckout:{skin:"wysiwyg.viewer.skins.button.EcomFeedbackCheckoutButton",style:"ecom_fmc1"}},ComboBox:{"default":{skin:"wysiwyg.viewer.skins.input.ComboBoxInputSkinNoValidation",style:"wa_cb1"},ecomComboBox:{skin:"wixapps.integration.skins.ecommerce.inputs.ComboBoxInputSkin",style:""},ecomShippingComboBox:{skin:"wysiwyg.viewer.skins.appinputs.EcomComboBoxInputSkin",style:"ecom_scb1"},wixAppsGui:{skin:"wixapps.integration.skins.inputs.ComboBoxInputSkin",style:""}},TextArea:{"default":{skin:"wysiwyg.viewer.skins.input.TextAreaInputSkin",style:"wa_tai1"},ecomTextArea:{skin:"wixapps.integration.skins.ecommerce.inputs.TextAreaInputSkin",style:""}},TextAreaInput:{"default":{skin:"TextAreaDefaultSkin",style:"ta_input"}},TextInput:{"default":{skin:"wysiwyg.viewer.skins.appinputs.AppsTextInputSkin",style:"wa_ti1"},ecomTextInput:{skin:"wysiwyg.viewer.skins.appinputs.EcomTextInputSkin",style:"ecom_ti1"}},ErasableTextInput:{"default":{skin:"wysiwyg.viewer.skins.appinputs.EcomErasableTextInputSkin",style:"ecom_eti1"}},Gallery:{"default":{skin:"wysiwyg.viewer.skins.paginatedgrid.PaginatedGridDefaultSkin",style:"pagg1"},productGallery:{skin:"wysiwyg.viewer.skins.paginatedgrid.PaginatedGridSimple",style:"pgg_cg0"},contentGallery:{skin:"wysiwyg.viewer.skins.paginatedgrid.PaginatedGridNoDetail",style:"pgg_cg1"},minipostGallery:{skin:"wysiwyg.viewer.skins.paginatedgrid.wixapps.PaginatedGridNoDetail",style:"pgg_cg2"},hoverGallery:{skin:"wysiwyg.viewer.skins.paginatedgrid.PaginatedGridNoBG",style:"pgg_cg3"},blogGallery:{skin:"wysiwyg.viewer.skins.paginatedgrid.PaginatedGridNoDetail",style:"pgg_cg4"}},Video:{"default":{skin:"wysiwyg.viewer.skins.video.VideoDefault",style:"v2"},mediaLabel:{skin:"wysiwyg.viewer.skins.VideoSkin"}},Container:{"default":{skin:"wysiwyg.viewer.skins.area.AppleArea",style:"c1"},ecomCouponBox:{skin:"wysiwyg.viewer.skins.apps.DefaultBoxSkin",style:"ecom_cbx1"},ecomCartHeader:{skin:"wysiwyg.viewer.skins.apps.DefaultBoxSkin",style:"ecom_ch1"},ecomEmptyCartBG:{skin:"wysiwyg.viewer.skins.apps.DefaultBoxSkin",style:"ecom_ecbg1"}},Image:{"default":{skin:"wysiwyg.viewer.skins.photo.NoSkinPhoto",style:"wp1"}},VideoThumb:{"default":{skin:"wysiwyg.viewer.skins.photo.NoSkinPhoto",style:"wp1"}},HorizontalLine:{"default":{skin:"wysiwyg.viewer.skins.FiveGridLineSkin",style:"hl1"}},VerticalLine:{"default":{skin:"wysiwyg.viewer.skins.VerticalLineSkin",style:"vl1"}},Table:{"default":{skin:"wysiwyg.viewer.skins.table.TableComponentDefaultSkin",style:"tblc1"}},VerticalList:{"default":{skin:"skins.core.InlineSkin",style:"vr1"},ecomOptionsList:{skin:"skins.core.InlineSkin"}},List2:{"default":{skin:"skins.core.InlineSkin"}},PaginatedList:{"default":{skin:"skins.core.InlineSkin"}},FlowList:{"default":{skin:"skins.core.InlineSkin"}},Date:{"default":{skin:"wysiwyg.viewer.skins.WRichTextClickableSkin"}},MediaLabel:{"default":{skin:"wysiwyg.viewer.skins.WRichTextClickableSkin"}},Label:{"default":{skin:"wysiwyg.viewer.skins.WRichTextClickableSkin"}},InlineText:{"default":{skin:"skins.core.VerySimpleSkin"}},ClippedParagraph:{"default":{skin:"wysiwyg.viewer.skins.WRichTextClickableSkin"}},ClippedParagraph2:{"default":{skin:"wysiwyg.viewer.skins.WRichTextClickableSkin"}},Icon:{"default":{skin:"wixapps.integration.skins.IconSkin"}},ImageButton:{"default":{skin:"wixapps.integration.skins.ImageButtonSkin"}},ImageButtonWithText:{"default":{skin:"wysiwyg.viewer.skins.IconLeftImageButtonWithText"}},Toggle:{"default":{skin:"wixapps.integration.skins.ToggleSkin"}},SliderGallery:{"default":{skin:"wysiwyg.viewer.skins.galleryselectableslider.SelectableSliderGalleryDefaultSkin"}},TouchMediaZoomSlideshow:{"default":{skin:"wysiwyg.viewer.skins.TouchMediaZoomSlideshow"}},TouchMediaZoomItem:{"default":{skin:"wysiwyg.viewer.skins.TouchMediaZoomItem"}},NumericStepper:{"default":{skin:"wysiwyg.common.components.numericstepper.viewer.skins.NumericStepperSimpleSkin",style:"nums1"}},Pagination:{"default":{skin:"skins.core.InlineSkin"}}};return a}),define("wixappsCore/core/styleData",["wixappsCore/core/styleMap"],function(a){"use strict";function b(b){return a[b]&&a[b]["default"]&&a[b]["default"].skin}function c(b,c,d,e,f){if(f&&e&&b[e])return{skin:f,styleId:e};if(f)return{skin:f};var g=a[c][d]||a[c]["default"];return e=e||g.style,e&&b[e]?{styleId:e,skin:b[e].skin}:{styleId:g.style,skin:g.skin}}return{getDefaultSkinName:b,getSkinAndStyle:c}}),define("wixappsCore/core/styleCollector",["lodash","skins","wixappsCore/util/viewsUtils","wixappsCore/core/styleData","wixappsCore/core/styleMap"],function(a,b,c,d,e){"use strict";function g(b,c,d,e){var i,g=b&&d[b]&&f[d[b].skin],h=c&&f[c];i=g?b:h?c:"",i&&!e[i]&&(e[i]="s"+a.size(e))}function h(b,e,f){function h(b){var c=a.get(b,"comp.style"),h=a.get(b,"comp.skin")||b.comp&&d.getDefaultSkinName(b.comp.name);g(c,h,e,f)}c.traverseViews(b,h)}function i(b,c){a.forEach(e,function(d){a.forEach(d,function(a){g(a.style,a.skin,b,c)})})}var f=b.skins;return{collectViewStyles:h,addStyleIfNeeded:g,addDefaultStyles:i}}),define("wixappsCore/core/wixappsDataHandler",["lodash"],function(a){"use strict";function b(a,b){return a?(a.wixapps=a.wixapps||{},a.wixapps[b]=a.wixapps[b]||{},a.wixapps[b]):null}function c(a,c){var d=b(a,c);return d.descriptor?d.descriptor:null}function d(b){return a.get(b,"categories",null)}function e(a){var c=b(a,"blog");return d(c)}function f(b,c){var f,d=e(b);return d&&(f=a.find(d.categoryById,{name:c})),f||null}function g(a,c,d){var e=b(a,c);return e[d]?e[d]:null}function h(a,c,d,e){var f=b(a,c);f[d]=e}function i(a,c,d){var e=b(a,c);delete e[d]}function j(a,c,d){var e=b(a,c);return e[d+"_extraData"]||null}function k(c,d,e){if(!a.isArray(e)||0===e.length)return[];if(a.every(e,a.isArray))return a.map(e,function(a){return k(c,d,a)});var f=a.clone(e),g=b(c,d);if(!g.items)return null;for(var h=g.items;f.length;){var i=f.shift();h=h[i]}return h}function l(c,d,e,f){for(var g=a.clone(e),h=b(c,d),i=h.items;g.length>1;){var j=g.shift();i=i[j]}i[g.shift()]=f}function m(a){return["wixapps",a]}function n(b,c,d,e){var f=o(c,d,e);a.merge(f,b)}function o(a,c,d){var e=b(a,c);return e.metadata=e.metadata||{},e.metadata[d]=e.metadata[d]||{},e.metadata[d]}function p(a,c,d){var e=b(a,c);e.metadata&&e.metadata[d]&&(e.metadata[d]={})}function q(a,c){var d=b(a,c);return d.metadata=d.metadata||{},d.metadata[c+"_metadata"]=d.metadata[c+"_metadata"]||{},d.metadata[c+"_metadata"]}function r(b,c,d){var e=q(c,d);a.merge(e,b)}return{getDescriptor:c,getDataByCompId:g,setDataForCompId:h,clearDataForCompId:i,getExtraDataByCompId:j,getDataByPath:k,setDataByPath:l,getPackageData:b,getSiteDataDestination:m,setCompMetadata:n,getCompMetadata:o,getPackageMetadata:q,setPackageMetadata:r,clearCompMetadata:p,getBlogCategoriesFromPackageData:d,getBlogCategories:e,getBlogCategoryByName:f}}),define("wixappsCore/core/wixappsLogger",["lodash","utils"],function(a,b){"use strict";function i(b,d,e){try{var f=a.defaults({},d,g);c.reportBI(b,f,e)}catch(h){}}function j(b,d,e){try{var f=a.defaults({},d,h);c.reportBI(b,f,e)}catch(g){}}var c=b.logger,d={LISTS_EVENT_SOURCE:60,Type:{ERROR:10,USER_ACTION:40},Category:{EDITOR:1,VIEWER:2,CORE:3,SERVER:4},issue:{GENERAL:0,PROXY:1,APP_LOGIC:2,DATA_SERVICE:3,DATA_ITEMS:4,CORE_WIRING:5,DATA_EDITING:6,APP_BUILDER:7,APP_REPO_SERVICE:8},Severity:{RECOVERABLE:10,WARNING:20,ERROR:30,FATAL:40}},e={GENERIC_ERROR:{errorCode:-2e4,desc:"WixApps unspecified error"},APP_PART2_FAILED_TO_LOAD:{errorCode:-20011,desc:"Failed to load app part",issue:d.issue.APP_BUILDER},DATA_SELECTOR_CONTAINS_NULL:{errorCode:-20013,desc:"A data selector returned from the server with a null id key.",issue:d.issue.APP_BUILDER},MISSING_PERMALINK:{errorCode:-22041,desc:"Site data is missing the permalink data item"},REQUEST_FAILED:{errorCode:-1,desc:"Unspecified error occurred, possibly a connection problem"}};c.register("wixapps","error",e);var f={APP_BUILDER_PART_LOADED:{eventId:103,desc:"App builder - part loaded in published",params:{c2:"appPartName",g2:"userId"}},APP_PART2_FAILED_TO_LOAD_DATA_SELECTOR:{eventId:135,desc:"Failed to load data selector",params:{c1:"dataSelector"}},APP_PART2_FAILED_TO_LOAD_PART_DEFINITION:{eventId:136,desc:"Failed to load app part definition"},VIEW_DEFINITION_NOT_FOUND:{eventId:137,desc:"Failed to load view definition"},TAG_SELECTED_IN_VIEWER:{eventId:305,desc:"User selected a tag in the viewer."}};c.register("wixapps","event",f);var g={desc:e.GENERIC_ERROR.desc,errorCode:e.GENERIC_ERROR.errorCode,type:d.Type.ERROR,issue:d.issue.GENERAL,severity:d.Severity.ERROR,category:d.Category.VIEWER,src:d.LISTS_EVENT_SOURCE},h={type:d.Type.USER_ACTION,adapter:"lists",category:d.Category.VIEWER,src:d.LISTS_EVENT_SOURCE};return{events:f,errors:e,reportError:i,reportEvent:j}}),define("wixappsCore/core/styleTranslator",["lodash"],function(a){"use strict";function g(a){return{WebkitBoxOrient:a,WebkitFlexDirection:b[a]||a,msFlexDirection:b[a]||a,flexDirection:b[a]||a}}function h(a,b){var c=1===String(a).split(" ").length;return"none"===a||"0"===a||0===a||""===a?"none":c&&"vertical"===b?a+" 1 auto":a}function i(a,b){var c=h(a,b);return{minWidth:0,WebkitFlex:c,msFlex:c,flex:c}}function k(a){return a.replace(/-([a-z])/gi,function(a,b){return b.toUpperCase()})}function l(b,c){return a.transform(b,function(b,d,e){var f=j[e];f?a.merge(b,f(d,c)):(b[k(e)]=d,b[k(e)]=d)},{})}var b={horizontal:"row",vertical:"column"},c={start:"flex-start",end:"flex-end"},d=a.invert(c),e={top:"start",middle:"center",bottom:"end",left:"start",right:"end"},f={start:"flex-start",end:"flex-end"},j={"flex-direction":g,"box-orient":g,"box-flex":i,flex:i,"align-items":function(a){return{WebkitAlignItems:c[a]||a,msFlexAlign:d[a]||a,"align-items":c[a]||a,"align-self":c[a]||a}},"box-align":function(a){return a=e[a]||a,{WebkitBoxAlign:c[a]||a,WebkitAlignItems:c[a]||a,MozBoxAlign:c[a]||a,msFlexAlign:a,alignItems:c[a]||a,boxAlign:c[a]||a}},"justify-content":function(a){return{justifyContent:f[a]||a,WebkitJustifyContent:f[a]||a,MozJustifyContent:f[a]||a,msFlexPack:a,msJustifyContent:f[a]||a}},"box-shadow":function(a){return{WebkitBoxShadow:a,MozBoxShadow:a,boxShadow:a}},"border-radius":function(a){return{WebkitBorderRadius:a,MozBorderRadius:a,borderRadius:a}}};return{translate:l}}),define("wixappsCore/util/spacersCalculator",["lodash"],function(a){"use strict";function c(c,d,e,f){e=e||"vertical",f=f||"ltr";var g={before:parseInt(d.spacerBefore||d.spacer,10),after:parseInt(d.spacerAfter||d.spacer,10)};return g.before&&(d[c+b[f][e].before]=g.before),g.after&&(d[c+b[f][e].after]=g.after),a.omit(d,["spacer","spacerBefore","spacerAfter"])}var b={rtl:{vertical:{before:"Top",after:"Bottom"},horizontal:{before:"Right",after:"Left"}},ltr:{vertical:{before:"Top",after:"Bottom"},horizontal:{before:"Left",after:"Right"}}};return{translateStaticSpacers:c.bind(null,"margin"),translateStaticSpacersXax:c.bind(null,"padding")}}),define("wixappsCore/core/wixappsConfiguration",[],function(){"use strict";var a=!1;return{shouldApplyAutomationAttributes:function(){return a},applyAutomationAttributes:function(){a=!0}}}),define("wixappsCore/core/wixappsPlugins",["lodash","wixappsCore/core/wixappsConfiguration"],function(a,b){
"use strict";return{getAdditionalDomAttributes:function(c){var d={};return b.shouldApplyAutomationAttributes()&&(d=a.merge(d,{"data-vcview":c.props.viewName,"data-vcfield":c.getViewDefProp("id"),"data-vctype":c.props.forType,"data-proxy":c.constructor.displayName,"data-field-name":c.getViewDefProp("data")})),d}}}),define("wixappsCore/proxies/mixins/baseProxy",["lodash","santaProps","wixappsCore/util/viewsUtils","wixappsCore/core/styleData","wixappsCore/core/expressions/expression","wixappsCore/core/styleTranslator","wixappsCore/util/spacersCalculator","utils","wixappsCore/core/wixappsPlugins"],function(a,b,c,d,e,f,g,h,i){"use strict";function j(){return this.getCompProp("hidden")?null:this.renderProxy()}function k(a){var b=a.parentContextPath,c=a.contextProps;c&&(b=this.createContext(a.parentContextPath,c.path,c.vars,c.events,c.functionLibrary)),this.contextPath=b}function l(a){var b=this.getCompProp("cssClass")||"";return this.props.className&&(b+=" "+this.props.className),this.getProxyCustomCssClass&&(b+=" "+this.getProxyCustomCssClass()),b+=" "+x(a),b=b.trim()}function m(a){var b=this.getCompProp("hoverVar");this.props.viewProps.setVar(this.contextPath,b,a)}function n(){var b={},c=this.getCompProp("hoverVar");c&&(b.onMouseEnter=m.bind(this,!0),b.onMouseLeave=m.bind(this,!1));var d=this.getCompProp("events");return a.transform(d,function(a,b,c){var d=null;if(void 0!==b.params&&void 0!==b.params.enabled&&void 0!==b.params.enabled.$expr&&(d=b.params.enabled.$expr),d){var f=e.evaluate(s.bind(this,this.contextPath),d,r.call(this,this.contextPath));if(!f)return}switch(h.stringUtils.startsWith(c,"dom:")&&(c="on"+c[4].toUpperCase()+c.substring(5),a[c]=this.handleViewEvent),c){case"click":a.onClick=this.handleViewEvent;break;case"mouseup":a.onMouseUp=this.handleViewEvent;break;case"mousedown":a.onMouseDown=this.handleViewEvent}},b,this)}function o(b){return a.isPlainObject(b)&&a.has(b,"_iid")}function p(b){return a.isPlainObject(b)&&b._type&&h.stringUtils.startsWith(b._type,"wix:Ref")}function q(a){return[a.collectionId,a.itemId]}function r(b){var c=this.props.viewContextMap.getExpressionsFunctions(b);return a.assign(this.props.functionLibrary,c)}function s(b,c){a.isUndefined(b)&&(b=this.contextPath);var d,f=c.split("."),g=f.shift();if("$"===a.first(g))if(d=this.props.viewContextMap.getVar(b,g),e.isExpression(d))d=e.evaluate(s.bind(this,b),d.$expr,r.call(this,b));else for(;f.length;)d=d[f.shift()];else d=this.getDataByPath(c);return e.convertStringToPrimitive(d)}function t(a){return h.stringUtils.startsWith(a,"$")}function u(b){b=b||this.props;var c=this.getViewDefProp("value",b.viewDef);if(!a.isUndefined(c))return c;var d=b.viewDef&&b.viewDef.data||"this";return e.isExpression(d)?e.evaluate(s.bind(this,this.contextPath),d.$expr,r.call(this,this.contextPath)):t(d)?this.getVar(d):this.getDataByPath(d,!0)}function v(b,d){return c.sanitizeCompId(a.compact([this.props.viewProps.compId,this.props.viewId,this.contextPath,b&&b.id,d]).join("_"))}function w(b,c){var d=a.isArray(b)?a.map:a.mapValues;return d(b,function(b){var d=b;return e.isExpression(b)?d=e.evaluate(s.bind(this,c),b.$expr,r.call(this,c)):(a.isArray(b)||a.isPlainObject(b))&&(d=w.call(this,b,c)),e.convertStringToPrimitive(d)},this)}function x(a){return a&&a.display&&"box"===a.display?(delete a.display,"flex_display"):""}function y(b,c){var e={layout:b,componentType:c};if(this.useSkinInsteadOfStyles)return e.skin=this.getCompProp("skin")||d.getDefaultSkinName(this.getCompProp("name")),e;var f=d.getSkinAndStyle(this.props.viewProps.siteData.getAllTheme(),this.getCompProp("name"),this.getCompProp("styleNS"),this.getCompProp("style"),this.getCompProp("skin"));return a.assign(f,e)}function z(b){return a.pick(b,function(a,b){return 0===b.indexOf("data-")})}function A(b,c){if(c[""]=a.merge({},c[""],n.call(this),i.getAdditionalDomAttributes(this)),!b)return c;a.assign(c[""],z(this.props));var d=b(c);return a.forEach(d,function(a){a&&a.style&&(a.style=f.translate(a.style,this.props.orientation))},this),d}function B(a,b){b.params&&(a.params=w.call(this,b.params,this.contextPath))}return{statics:{getPropDefs:function(b){if(a.includes(["compProp","viewProp"],b)){var c={};return a.forOwn(this,function(a,d){a.type===b&&(c[d]=a)}),c}},hidden:{type:"compProp",defaultValue:!1},style:{type:"compProp",defaultValue:null},layout:{type:"viewProp",defaultValue:{}}},getDataByPath:function(a,b){var c=this.props.viewProps.getDataByPath(this.contextPath,a);return b&&p(c)?this.props.viewProps.getDataByFullPath(q(c)):c},getVar:function(a){return this.props.viewContextMap.getVar(this.contextPath,a)},setVar:function(a,b,c){this.props.viewProps.setVar(this.contextPath,a,b,c)},getContextEvent:function(a){return this.props.viewContextMap.getEvent(this.contextPath,a)},getChildProxyProps:function(a,b,c){var d=null;b&&(d={path:b,vars:c.vars||{},events:c.events||{},functionLibrary:c.functionLibrary||{}});var e={ref:"child",viewName:this.props.viewName,forType:this.props.forType,formatName:this.props.formatName,orientation:this.props.orientation,viewDef:a,parentId:this.props.parentId,viewId:this.props.viewId,logicEvents:this.props.logicEvents,logic:this.props.logic,functionLibrary:this.props.functionLibrary,parentContextPath:this.contextPath,contextProps:d,viewContextMap:this.props.viewContextMap,viewProps:this.props.viewProps,id:v.call(this,a,"child")};return e},getChildCompProps:function(c,d){var e={id:v.call(this,this.props.viewDef,this.props.key),ref:"component"};if(!c)return e.style=this.getProxyStyle(),e.className=l.call(this,e.style),a.assign(e,n.call(this),i.getAdditionalDomAttributes(this),z(this.props));var f=this.getProxyStyle(),g=y.call(this,f,c),h=b.componentPropsBuilder.getCompProps(g,this.props.viewProps.siteAPI,this.props.viewProps.rootId,this.props.viewProps.loadedStyles);delete h.style.position;var j=a.merge(h.style,f);return h.className=l.call(this,j),a.assign(h,e,{transformSkinProperties:A.bind(this,d),style:j,compProp:this.props.compProp})},getViewDefProp:function(a,b,c){b=b||this.props.viewDef||{},c=c||this.contextPath;var d=b[a],f=d;if(e.isExpression(d))f=e.evaluate(s.bind(this,c),d.$expr,r.call(this,c));else if("layout"===a||"css"===a||"stylesheet"===a)return w.call(this,d,c);return e.convertStringToPrimitive(f)},getCompProp:function(a,b,c){c=c||this.contextPath;var d=this.getViewDefProp("comp",b,c);if(d)return this.getViewDefProp(a,d,c)},getStyleDef:function(b,c){if(b)return a.merge({},this.getCompProp("css",b,c),this.getViewDefProp("layout",b,c));var d={};return this.getCustomStyle&&(d=this.getCustomStyle()),a.merge(d,this.getCompProp("css"),this.getViewDefProp("layout"),this.props.proxyLayout)},getProxyStyle:function(){var a=this.getStyleDef(),b=this.props.orientation||"vertical",c=this.props.viewProps.compProp&&this.props.viewProps.compProp.direction;return a.boxSizing="border-box",a=g.translateStaticSpacers(a,b,c),a=f.translate(a,this.props.orientation)},handleViewEvent:function(b,c){var d=this.getCompProp("events"),f=this.props.logic,g=d&&(d[b.type]||d["dom:"+b.type]||d["dom:"+b.type.toLowerCase()]);if(g){var h=a.isString(g)?g:g.event;h&&a.forEach(h.split(";"),function(d){var h=d.trim().match(/^set:([^=]+)=(.+)$/);if(h){var i=e.evaluate(s.bind(this,this.contextPath),h[2].trim(),r.call(this,this.contextPath)),j=h[1].trim();return void(t(j)?this.props.viewProps.setVar(this.contextPath,j,i):this.props.viewProps.setDataByPath(this.contextPath,j,i))}var k=this.getContextEvent(d);if(a.isFunction(k))return B.call(this,b,g),void k(b,c);if(!f)throw"Error:: Missing logic - cannot handle event ["+d+"]";if(!a.isFunction(f[d]))throw"Error:: Logic missing implementation for event ["+d+"]";B.call(this,b,g);var l=this.getViewDefProp("data")||"this";b.dataPath=this.props.viewProps.getNormalizedDataPath(this.contextPath,l),f[d](b,c)},this)}},createContext:function(b,c,d,e,f){var g=a.merge({},d.view,d.proxy,this.getViewDefProp("vars")),h=this.props.viewProps.getDataByPath(b,c);if(null===b||o(h)){var i=this.props.viewProps.getNormalizedDataPath(b,c);return this.props.viewContextMap.newContextForDataItem(b,i,g,e,f)}return p(h)?this.props.viewContextMap.newContextForDataItem(b,q(h),g,e,f):this.props.viewContextMap.newContextForDataPath(b,c,g,e,f)},getInitialState:function(){return k.call(this,this.props),this.proxyData=u.call(this),{}},componentWillUpdate:function(a){this.props.viewContextMap.hasContext(this.contextPath)||k.call(this,a);var b=a.contextProps;b&&b.vars&&b.vars.proxy&&this.props.viewContextMap.overrideContextVars(this.contextPath,b.vars.proxy),this.proxyData=u.call(this,a)},render:function(){if(this.props.viewProps.siteData.isDebugMode())return j.call(this);try{return j.call(this)}catch(a){return h.log.error("Cannot render proxy "+this.constructor.displayName+" with id: "+this.props.id,a),null}}}}),define("wixappsCore/proxies/mixins/inputProxy",["utils","wixappsCore/proxies/mixins/baseProxy"],function(a,b){"use strict";function c(b){return a.stringUtils.startsWith(b,"$")}return{mixins:[b],setData:function(a,b){var d=this.getViewDefProp("data")||"this";b&&(d+="."+b);var e=c(d)?this.props.viewProps.setVar:this.props.viewProps.setDataByPath;e(this.contextPath,d,a)}}}),define("wixappsCore/core/linksConverter",["lodash","utils"],function(a,b){"use strict";function f(b,c){var d=(a.includes(["#masterPage","masterPage"],b.pageId)?"masterPage":b.pageId)||"",e=c(b.anchorDataId,d.replace("#",""));return{type:"AnchorLink",anchorName:b.anchorName,anchorDataId:a.isEmpty(e)?b.anchorDataId:e,pageId:c(b.pageId,"masterPage")}}function g(a){return{type:"DocumentLink",docId:a.docId,name:a.docName}}function h(a){return{type:"ExternalLink",url:a.protocol?a.protocol+"://"+a.address:a.address,target:a.target}}function i(a,b){return{type:"PageLink",pageId:b(a.pageId,"masterPage")}}function j(a){return{type:"PhoneLink",phoneNumber:a.phoneNumber}}function k(a){return{type:"EmailLink",recipient:a.email,subject:a.subject}}function l(a,e){var f=a.href;if("WEBSITE"===a.linkType||d.test(f)){var g={address:f};return h(g)}if(b.stringUtils.startsWith(f,c))return i({pageId:f.substr(2)},e);if(b.stringUtils.startsWith(f,"mailto:")){var j=f.split("?"),l="";if(j.length>1){var m=b.urlUtils.parseUrlParams(j[1]);l=m.subject||""}var n={subject:l,email:j[0].substr(7)};return k(n)}}function m(b,c){if(!b)return null;var d=e[b._type];return d&&a.assign(d(b,c),{id:b.linkId})}var c="#!",d=/(:\/\/)|(^\/\/)/,e={"wix:Link":l,"wix:PageLink":i,"wix:ExternalLink":h,"wix:MailLink":k,"wix:PhoneLink":j,"wix:DocLink":g,"wix:AnchorLink":f};return m}),define("wixappsCore/core/typesConverter",["lodash","wixappsCore/core/linksConverter"],function(a,b){"use strict";function c(c,d){if(!d)return null;var e=b({_type:"wix:PageLink",pageId:d},c);return a.omit(e,"id")}return{richText:function(c,d,e,f){return{type:"StyledText",text:a.isString(c)?c:c.text,linkList:a.map(d,function(a){return b(a,e.getDataByQuery.bind(e))}),innerCompsData:f}},image:function(b,c,d,e,f){b=c(b,d,e);var g={type:"Image",uri:b.src,title:b.title,width:parseInt(b.width,10),height:parseInt(b.height,10)};return a.isEmpty(f)||(g.quality=f),g},videoThumb:function(a,b,c){var d={src:a.imageSrc,title:"",width:480,height:360};return this.image(d,b,c)},table:function(b){return{type:"Table",columnsStyle:a.map(b,function(a,b){if(!a.item)throw"missing definition for item in column "+b;return a.item.styleData})}},video:function(a){return{type:"Video",videoId:a.videoId,videoType:a.videoType}},linkableButton:function(b,d){var e=b&&(b.linkId?d.getDataByQuery(b.linkId):c(d.getDataByQuery.bind(d),b.pageId)),f=a.isString(b)?b:b&&b.label;return{type:"LinkableButton",label:a.unescape(f),link:e||null}},selectableList:function(b){return{type:"SelectableList",options:a.map(b.items,function(c){return{type:"SelectOption",value:c.value,text:a.isFunction(c.getText)?c.getText(b.selectedValue):c.text,disabled:c.enabled===!1,description:c.description}}),value:b.selectedValue}},text:function(b,c){var d={type:"TextInput",value:a.unescape(b)};return c&&(d.maxLength=c),d},numeric:function(b){return{type:"NumericStepper",value:a.unescape(b)}},icon:function(a,b,c,d){return a=b(a,c,d),{type:"Icon",url:a.src,width:a.width,height:a.height,title:a.title}},link:b,imageList:function(b,c,d,e){var f=e.getGlobalImageQuality();return{type:"ImageList",items:a.map(b.items,function(b){return a.merge(this.image(b,c,d,f),{description:b.description||"",link:this.link(b.link,e)})},this)}}}}),define("wixappsCore/util/videoThumbDataHandler",["lodash"],function(a){"use strict";function d(a){return"http://img.youtube.com/vi/"+a+"/0.jpg"}function e(a){return"http://vimeo.com/api/v2/video/"+a+".json"}function f(a){return a.item.imageSrc=d(a.item.videoId),null}function g(a){if(a.item.imageSrc)return null;var b=e(a.item.videoId);return{force:!0,destination:a.path,url:b,dataType:"jsonp",transformFunc:i,error:function(){h(a)}}}function h(a){a.item.imageSrc=c}function i(b,c){var d=b[0],e=a.isArray(c)?j(c,d.id):c;return e.imageSrc=d.thumbnail_large,c}function j(b,c){return a.find(b,{videoId:c+""})}function k(a){return a.item.videoType?b[a.item.videoType].prepareVideoThumbUrl(a):h(a)}function l(b,d){return c||(c=d.santaBase+"/static/images/video/not-found.png"),a.compact(a.map(b,k))}var b={YOUTUBE:{prepareVideoThumbUrl:f},VIMEO:{prepareVideoThumbUrl:g}},c="";return{handleVideoThumbUrls:l}}),define("wixappsCore/proxies/mixins/baseCompositeProxy",["react","lodash","wixappsCore/proxies/mixins/baseProxy","wixappsCore/core/proxyFactory","wixappsCore/core/styleTranslator"],function(a,b,c,d,e){"use strict";function h(a){return b.includes(g,a)}function i(a,b){var c=this.getStyleDef(a,b);c.boxSizing="border-box";var d=this.getCompProp("size",a);if("*"===d)c["box-flex"]=1;else{var g=this.getCompProp("name",a);c[f[g]]=d}return e.translate(c,b.orientation)}function j(b,c){return this.getCompProp("hidden",b)?null:(c.style=i.call(this,b,c),a.DOM.div(c))}var f={HSpacer:"width",VSpacer:"min-height"},g=["HSpacer","VSpacer"];return{mixins:[c],renderChildProxy:function(a,b,c,e){e=e||this.getChildProxyProps(a),b=String(b||"0"),e.key=b,e.ref=b,e.refInParent=b,e.proxyLayout=c,this.getChildrenOrientation&&(e.orientation=this.getChildrenOrientation());var f=this.getCompProp("name",a);return h(f)?j.call(this,a,e):d.getProxyClass(f)(e)}}}),define("wixappsCore/util/localizer",["lodash","utils"],function(a,b){"use strict";function e(b,c){return a.has(c,b)?c[b]:"["+b+"] - not found"}var c="@",d={macroPattern:new RegExp("^"+c+"[0-9a-zA-Z_\\-\\.]*"+c+"$"),thingyPattern:new RegExp(c,"g")};return{getLocalizationBundleForPackage:function(a,c,d){var e=b.wixUserApi.getLanguage(d.requestModel.cookie,d.currentUrl).toLowerCase(),f=a.getDescriptor(c);return f&&(f.lang[e]||f.lang.en)},localize:function(a,b){for(var c,f,g;null!==(c=d.macroPattern.exec(a));)c=c[0],f=c.replace(d.thingyPattern,""),g=e(f,b),a=a.replace(c,g);return a}}}),define("wixappsCore/util/memoizedViewsUtils",["lodash","wixappsCore/util/viewsUtils"],function(a,b){"use strict";function c(a,b,c,d){return[a.id,b,c,d].join("|")}return{findViewInDescriptorByNameTypeAndFormat:a.memoize(b.findViewInDescriptorByNameTypeAndFormat,c)}}),define("wixappsCore/util/richTextDefaultStyles",[],function(){"use strict";function a(a){var b="#"===a.charAt(0),c={name:b?"style":"class",value:b?"color:"+a+";":a};return{name:"span",attributes:[c]}}function b(a){var b="#"===a.charAt(0),c={name:b?"style":"class",value:b?"background-color:"+a+";":a};return{name:"span",attributes:[c]}}function c(a){return{name:"strong",attributes:[{name:"style",value:a?"font-weight: bold;":"font-weight: normal;"}]}}function d(a){return{name:"em",attributes:[{name:"style",value:a?"font-style: italic;":"font-style: normal;"}]}}function e(a){return{name:"strike",attributes:[{name:"style",value:a?"text-decoration: line-through;":"text-decoration: none;"}]}}function f(a){return{name:"u",attributes:[{name:"style",value:a?"text-decoration: underline;":"text-decoration: none;"}]}}return{color:a,backgroundColor:b,bold:c,italic:d,lineThrough:e,underline:f}}),define("wixappsCore/util/richTextUtils",["lodash","utils","wixappsCore/util/richTextDefaultStyles","wixappsCore/util/styleMapping","fonts","experiment"],function(a,b,c,d,e,f){"use strict";function g(a){return a.replace(/<a\b[^>]*>(.*?)<\/a>/gi,"$1")}function h(a){return d.styleToFontClass(a)}function i(b){var c=a.map(b,function(b){return a.includes(b.value,'"')?b.name+"='"+b.value+"'":b.name+'="'+b.value+'"'}).join(" ");return c.length?" "+c:c}function j(b){return a.map(b,function(a){return"<"+a.name+i(a.attributes)+">"}).join("")}function k(b){return a.map(b,function(a){return"</"+a.name+">"}).reverse().join("")}function l(b){return a(b).groupBy("name").map(function(b,c){var d=a(b).pluck("attributes").flattenDeep().compact().groupBy("name").map(function(b,c){return{name:c,value:a.pluck(b,"value").join(" ")}}).value();return{name:c,attributes:d}}).value()}function m(b,d,g,i){var j=a.reduce(d,function(a,b){return a[b.name]=b.value,a},{});if(j["class"]=h(g("style")||"Body M"),g("singleLine")&&(j["class"]+=" singleLine"),f.isOpen("sv_fixColorOfHatulOnHover")){var k=g("color");k&&("#"!==a.first(k)?j["class"]+=" "+k:(j.style=j.style||"",j.style="color:"+k+";"+j.style))}var m=g("line-height");m&&(j.style=j.style||"",/line-height:/.test(j.style)||(j.style="line-height:"+m+"em;"+j.style));var n=g("fontFamily");n&&(j.style=j.style||"",/font-family:/.test(j.style)||(j.style="font-family:"+e.fontUtils.getFontFamilyWithFallbacks(n)+";"+j.style));var o=g("fontSize");o&&(j.style=j.style||"",/font-size:/.test(j.style)||(j.style="font-size:"+o+"px;"+j.style)),i&&(j.style=j.style||"",j.style=i+";"+j.style);var p=[{name:b||"p",attributes:a.reduce(j,function(a,b,c){return a.push({name:c,value:b}),a},[])}],q=["color","backgroundColor","bold","italic","lineThrough","underline"];return f.isOpen("sv_fixColorOfHatulOnHover")&&(q=a.pull(q,"color")),a.forEach(q,function(b){var d=g(b);a.isUndefined(d)||a.isNull(d)||p.push(c[b](d))}),l(p)}function n(b){return"wix:RichText"===b._type&&a.get(b,"version",0)<2}function o(b,c){return"wix:RichText"===b._type&&"2.0"===c&&a.get(b,"version",0)>=2}function p(a){var c=[],d=[];return b.htmlParser(a,{start:function(a,b,e){var f=[{name:e||0!==c.length?a:"hatul",attributes:b}];e||c.push(k(f)),d.push(j(f))},end:function(){d.push(c.pop())},chars:function(a){0===c.length?(d.push("<hatul>"),d.push(a),d.push("</hatul>")):d.push(a)}}),d.join("")}function q(a,b,c,d,e){return s(a,b.text,c,n(b),o(b,d),e)}function r(a,b,c){return s(a,b,c,!1,!1)}function s(a,c,d,e,f,h){var i=a("disableLinks")?g(c):c,l=e?p(i):i,n=a("singleLine"),o=!1,q=[],r=[],s=!1;return b.htmlParser(l,{start:function(b,c,e){if(!o&&(!n||"img"!==b&&"br"!==b)){var i,g=0===q.length;i="hatul"===b?!g&&f?[{name:"span",attributes:[]}]:m(d,c,a,h):[{name:b,attributes:c}],e||q.push(k(i)),r.push(j(i))}},end:function(){o||(r.push(q.pop()),0===q.length&&n&&(s?o=!0:r=[]))},chars:function(a){o||0===q.length&&/^\s+$/.test(a)||(s=s||!/^(&nbsp;)+$/.test(a),r.push(a))}}),r.join("")}return{getDataWithDefaultStyleForRichText:q,getDataWithDefaultStyle:s,getDataWithDefaultStyleForString:r}}),define("wixappsCore/util/wixappsUrlParser",["lodash","utils","wixappsCore/core/wixappsLogger"],function(a,b,c){"use strict";var d={"79f391eb-7dfc-4adf-be6e-64434c4838d9":{parse:function(b,c){var d=c.split("/"),e={};e.filter={},"Featured"===d[0]&&(e.filter.featured=!0,d.shift());for(var f=0;f<d.length;f+=2)switch(d[f]){case"Type":e.filter._type=d[f+1];break;case"Tag":case"tag":var g=decodeURIComponent(d[f+1]);a.includes(g,"-")?e.filter.tags={$in:[g,g.replace(/-/g," ")]}:e.filter.tags=g;break;case"Category":case"category":var h=decodeURIComponent(d[f+1]),i=h.replace(/-/g," ");e.categoryNames=JSON.stringify([h,i]);break;case"Page":case"page":e.page=d[f+1];break;case"Author":case"author":var j=decodeURIComponent(d[f+1]);a.includes(j,"-")?e.filter.author={$in:[j,j.replace(/-/g," ")]}:e.filter.author=j;break;case"Sort":e.sort=d[f+1];break;case"Date":case"date":var k=d[f+1];e.filter["date.iso"]={$regex:"^"+k}}return e}},"7326bfbb-4b10-4a8e-84c1-73f776051e10":{parse:function(c,d){var e={};return e.limit=1,e.filter={},e.filter.permalink={$in:[d,decodeURIComponent(d)]},b.stringUtils.isTrue(a.get(c,["currentUrl","query","draft"]))&&(e.filter.draft=!0),e}}};return{getAppPageParams:function(a,b){var c=b||a.getExistingRootNavigationInfo(a.getPrimaryPageId()),e=a.getDataByQuery(c.pageId);if("AppPage"===e.type&&d[e.appPageId]){var f=c.pageAdditionalData||"";return d[e.appPageId].parse(a,f)}return null},getPageSubItemId:function(a,b){var c=a.getExistingRootNavigationInfo(a.getPrimaryPageId()),d=b||c;if(!d.pageAdditionalData)return null;var e=a.getDataByQuery(d.pageId),f=d.pageItemId&&a.getDataByQuery(d.pageItemId);if("AppPage"===e.type||f&&"PermaLink"===f.type){var g=d.pageAdditionalData.match(/(.+?)($|\/.*$)/i);return g[1]}return null},getAppPartZoomAdditionalDataPart:function(a,c,d,e){var f=encodeURIComponent(d.toLowerCase().replace(/[\s|\/]+/gi,"-"));return a.isUsingUrlFormat(b.siteConstants.URL_FORMATS.SLASH)?[c,e,f].join("/"):c+"/"+f},getAppPartZoomUrl:function(a,d,e,f){var g=a.getDataByQuery(d);if(!g)return c.reportError(a,c.errors.MISSING_PERMALINK),a.currentUrl.full;var h={pageItemId:d,pageAdditionalData:this.getAppPartZoomAdditionalDataPart(a,e,f,g.mutableSeoTitle)};return a.isUsingUrlFormat(b.siteConstants.URL_FORMATS.SLASH)||(h.title=g.mutableSeoTitle),b.wixUrlParser.getUrl(a,h)},getAppPageUrl:function(a,c,d,e){var f={pageId:c,title:e,pageAdditionalData:d};return b.wixUrlParser.getUrl(a,f)}}}),define("wixappsCore/util/typeNameResolver",["lodash"],function(a){"use strict";function b(b){if(a.isUndefined(b))return"undefined";if(a.isNull(b))return"null";if(b._type)return b._type;if(a.isString(b))return"String";if(a.isNumber(b))return"Number";if(a.isBoolean(b))return"Boolean";if(a.isArray(b))return"Array";if(a.isPlainObject(b))return"wix:Object";throw"Error:: Unable to resolve typeName for dataItem [ "+JSON.stringify(b)+" ]"}return{getDataItemTypeName:b}}),define("wixappsCore/proxies/mixins/boxProxy",["lodash","experiment","wixappsCore/proxies/mixins/baseCompositeProxy"],function(a,b,c){"use strict";function f(a,b){return{id:b,comp:{name:a,size:"*"}}}function g(a,b,c,g){b=b||"vertical";var h=a.layout||{};if("*"===h[e[c]]||"*"===h[e.both]){var i=d[b],j=a.id+"_spacer_"+c,k=f(i,j),l="spacer_"+c+"_"+g;return this.renderChildProxy(k,l)}return null}function h(a,b,c){return g.call(this,a,b,"before",c)}function i(a,b,c){return g.call(this,a,b,"after",c)}function j(b){return!("none"===b||"0"===b||0===b||""===b||null===b||a.isUndefined(b))}function k(b){return a.some(b,function(a){var b=this.getStyleDef(a);return"*"===b[e.before]||"*"===b[e.after]||"*"===b[e.both]||j(b["box-flex"])||j(b.flex)||a.comp&&"*"===a.comp.size?!0:void 0},this)}function l(a,b,c){if("rtl"===b&&"horizontal"===c){var d={start:"end",end:"start"};a=d[a]||a}return a}var d={vertical:"VSpacer",horizontal:"HSpacer"},e={both:"spacer",before:"spacerBefore",after:"spacerAfter"};return{mixins:[c],getCustomStyle:function(){var a=this.getCompProp("items"),b=k.call(this,a),c=this.getCompProp("pack"),d=this.getCompProp("box-align"),e=this.getChildrenOrientation(),f="horizontal"===e,g=b||c||d||f,h={position:"relative",display:g?"box":"block","box-orient":e};return d&&(h["box-align"]=d),c&&(h["justify-content"]=l(c,this.getVar("partDirection"),e)),h},renderProxy:function(){var c=this.getCompProp("items"),d=this.getChildrenOrientation(),e=a.map(c,function(b,c){var e=h.call(this,b,d,c),f=this.renderChildProxy(b,c),g=i.call(this,b,d,c);return a.compact([e,f,g])},this);e=a.flattenDeep(e);var f=this.getComponentName&&this.getComponentName(),g=this.getChildCompProps(f,this.transformSkinProperties);if("vertical"===d&&(g.className=g.className||"",g.className+=" flex_vbox"),this.getCustomProps&&(g=a.assign(g,this.getCustomProps())),b.isOpen("blogItemProp")){var j=this.getCompProp("item-scope");j&&(g.itemScope=j);var k=this.getCompProp("item-type");k&&(g.itemType=k)}var l=this.getReactClass();return l(g,e)}}}),define("wixappsCore/proxies/mixins/zoomProxy",["lodash","react","wixappsCore/proxies/mixins/boxProxy"],function(a,b,c){"use strict";var d=b.createClass({displayName:"AnchorInPositionAbsoluteWithSiblings",onClick:function(a){a.target=this.refs.a},render:function(){var c=a.omit(this.props,"style","href");return c.onClick=this.onClick,c.style=a.merge({},this.props.style,{cursor:"pointer"}),b.DOM.div(c,b.DOM.a({ref:"a",href:this.props.href,"data-page-item-context":c.pathToItems,target:c.target,style:{position:"absolute",top:0,right:0,left:0,bottom:0}}),c.children)}}),e=b.createFactory(d);return{mixins:[c],getChildrenOrientation:function(){return this.getCompProp("orientation")||"vertical"},getReactClass:function(){return this.getCustomZoomReactClass?this.getCustomZoomReactClass():e}}}),define("wixappsCore/proxies/zoomLinkProxy",["lodash","wixappsCore/proxies/mixins/zoomProxy","wixappsCore/util/wixappsUrlParser"],function(a,b,c){"use strict";return{mixins:[b],getCustomProps:function(){var b=this.props.viewProps.siteAPI.getSiteAspect("wixappsDataAspect"),d=b.getDescriptor(this.props.viewProps.packageName),e=this.props.viewProps.getPartDefinition(),f=a.find(d.parts,{id:e.zoomPartName[0]}),g=this.props.viewProps.getPartData(),h=f.zoomParams.urlIdPrefix+g.appInnerID,i={};return i.href=c.getAppPartZoomUrl(this.props.viewProps.siteData,h,this.proxyData._iid||this.proxyData.id,this.proxyData.title),i.pathToItems=this.props.viewProps.getNormalizedDataPath(this.contextPath,this.getCompProp("listExpression")).join("."),i}}}),define("wixappsCore/proxies/appLinkProxy",["lodash","utils","wixappsCore/proxies/mixins/zoomProxy","wixappsCore/util/wixappsUrlParser"],function(a,b,c,d){"use strict";function f(b){if(!b)return{};var c=a.filter(b.split("/"),function(a,b){return b%2===0}),d=a.filter(b.split("/"),function(a,b){return b%2===1});return a.zipObject(c,d)}function g(b){return a.reduce(b,function(a,b,c){return a+"/"+c+"/"+b},"").substring(1)}function h(a){return a.pageUriSEO||a.title}function i(b,c,e,f){var g=a.template("<%= year %>/<%= month %>/<%= day %>/<%= title %>"),h=new Date(e.date.iso);return d.getAppPageUrl(b,c,g({year:h.getFullYear(),month:h.getMonth()+1,day:h.getDate(),title:f}),"")}function j(a){var b="7326bfbb-4b10-4a8e-84c1-73f776051e10";return a&&"AppPage"===a.type&&"AppPage"===a.appPageType&&a.appPageId===b}function k(a,c,e,f){var g;return g=a.isUsingUrlFormat(b.siteConstants.URL_FORMATS.SLASH)?e.permalink?d.getAppPageUrl(a,c.id,e.permalink):i(a,c.id,e,encodeURIComponent(f)):d.getAppPageUrl(a,c.id,e._iid,f)}function l(a,b,c){var d="61f33d50-3002-4882-ae86-d319c1a249ab",f=a.getClientSpecMapEntryByAppDefinitionId(d);e.updateCategoryTagSearchesCounter(b,c,f)}function n(b){a.has(b,"Page")&&(b.page=b.Page,delete b.Page)}function o(b,c){if("samePage"===b){var d=this.props.viewProps.rootNavigationInfo.pageId;return a.find(c,{id:d})}return a.find(c,function(a){return a.appPageId&&a.appPageId===b})}var e=b.socialCounterDatabaseAPI,m={appPageLink:function(b,c,e){var f=a.unescape(e.title).replace(/(?![a-z0-9])(?!\s)[\x00-\x7F]/gi,"").replace(/\s+/g,"-");return{href:j(c)?k(b,c,e,f):d.getAppPageUrl(b,c.id,e._iid,f)}},date:function(a,b,c){var e="date/"+c.value;return{href:d.getAppPageUrl(a,b.id,e,h(b))}},tag:function(a,b,c){var e=(c.key||c).replace(/\s+/g,"-"),f="tag/"+e;return{href:d.getAppPageUrl(a,b.id,f,h(b)),onClick:l.bind(this,a,"tag",e)}},category:function(a,b,c){var e=c,f="category/"+[e.name];return{href:d.getAppPageUrl(a,b.id,f,h(b)),onClick:l.bind(this,a,"category",e.name)}},author:function(a,b,c){var e="author/"+c.author.replace(/\s+/g,"-");return{href:d.getAppPageUrl(a,b.id,e,h(b))}},prevPage:function(a,b,c,e){var i=e.pageAdditionalData||"",j=f(i);return n(j),j.page&&Number(j.page)&&(j.page=Number(j.page)-1),0===Number(j.page)&&delete j.page,{href:d.getAppPageUrl(a,b.id,g(j),h(b))}},nextPage:function(a,b,c,e){var i=e.pageAdditionalData||"",j=f(i);return n(j),j.page&&Number(j.page)?j.page=Number(j.page)+1:j.page=1,{href:d.getAppPageUrl(a,b.id,g(j),h(b))}},numberedPage:function(a,b,c,e){var i=e.pageAdditionalData||"",j=f(i);return n(j),j.page=parseInt(c,10),0===Number(j.page)&&delete j.page,{href:d.getAppPageUrl(a,b.id,g(j),h(b))}}};return{mixins:[c],getCustomProps:function(){var a=this.getCompProp("linkType")||"appPageLink",b=this.props.viewProps.siteData.getPagesDataItems(),c=this.getCompProp("pageId"),d=o.call(this,c,b);if(d&&a&&m[a]){var e=this.props.viewProps.rootNavigationInfo;return m[a](this.props.viewProps.siteData,d,this.proxyData,e)}return{}}}}),define("wixappsCore/proxies/nativeAppLinkProxy",["react","wixappsCore/proxies/appLinkProxy"],function(a,b){"use strict";var c=a.createFactory(a.createClass({displayName:"FlexboxContainerAnchor",render:function(){return a.DOM.div(this.props,a.DOM.a({"data-page-item-context":this.props.pathToItems,href:this.props.href,ref:"a",style:{display:"flex",flexDirection:"column",height:"100%",width:"100%"},target:this.props.target},this.props.children))}}));return{mixins:[b],getCustomZoomReactClass:function(){return c}}}),define("wixappsCore/core/layoutBasedHelper",["lodash"],function(a){"use strict";function b(b,c){var d=a.has(b,"width");return d=d||"vertical"===c,d=d||"horizontal"===c&&(a.has(b,"flex")||a.has(b,"box-flex"))}function c(b,c){var d=a.has(b,"height");return d=d||"horizontal"===c,d=d||"vertical"===c&&(a.has(b,"flex")||a.has(b,"box-flex"))}return{isLayoutBasedWidth:b,isLayoutBasedHeight:c}}),define("wixappsCore/proxies/areaProxy",["lodash","core","wixappsCore/proxies/mixins/boxProxy","wixappsCore/core/layoutBasedHelper"],function(a,b,c,d){"use strict";var e=b.compFactory,f={display:"inherit","flex-direction":"inherit"};return{mixins:[c],getChildrenOrientation:function(){return this.getCompProp("orientation")||"vertical"},getComponentName:function(){return"wixapps.integration.components.Area"},getReactClass:function(){return e.getCompClass(this.getComponentName())},transformSkinProperties:function(b){var c=this.getStyleDef();return d.isLayoutBasedHeight(c,this.props.orientation)&&(b.bg=b.bg||{},b.bg.style=a.merge({},b.bg.style,{height:"100%"})),b.inlineContent.style=a.merge({},b.inlineContent.style,f,{position:"relative",width:"100%"}),b}}}),define("wixappsCore/proxies/mixins/siteButtonProxy",["lodash","core","wixappsCore/proxies/mixins/baseProxy","wixappsCore/core/typesConverter","wixappsCore/util/localizer"],function(a,b,c,d,e){"use strict";var f=b.compFactory,g="wysiwyg.viewer.components.SiteButton";return{mixins:[c],statics:{componentType:g},getCustomStyle:function(){var b={position:"relative"};return this.getAdditionalButtonStyle&&(b=a.merge(b,this.getAdditionalButtonStyle())),b},renderProxy:function(){var b=this.getChildCompProps(g,this.transformSkinProperties),c=d.linkableButton(this.proxyData,this.props.viewProps.siteData),h=this.getCompProp("label");a.isUndefined(h)&&(h=c.label),c.label=h.toString()?e.localize(h,this.props.viewProps.getLocalizationBundle()):this.getDefaultLabel(),b.compData=c;var i=this.proxyData;if(i&&i.pageId){var j=this.props.viewProps.siteData;b.getDataByQuery=function(){return d.link(i,j.getDataByQuery.bind(j))}}return b.compProp={align:this.getCompProp("align")||"center",margin:this.getCompProp("margin")||0,padding:this.getCompProp("labelPadding")||""},b.shouldUseFlex=!1,b.noAutoLinkGeneration=!0,f.getCompClass(g)(b)}}}),define("wixappsCore/proxies/buttonProxy",["wixappsCore/proxies/mixins/siteButtonProxy","lodash"],function(a,b){"use strict";return{mixins:[a],transformSkinProperties:function(a){var c={"data-proxy-name":"Button",onClick:this.handleViewEvent};return a[""]=b.merge({},a[""],c),a},getAdditionalButtonStyle:function(){var a={},b=this.getCompProp("label")||this.proxyData;return""===b&&(a.display="none"),a},getDefaultLabel:function(){return"Submit"}}}),define("wixappsCore/proxies/button2Proxy",["wixappsCore/proxies/mixins/siteButtonProxy","lodash"],function(a,b){"use strict";return{mixins:[a],transformSkinProperties:function(a){var c=this.getProxyStyle(),d=c.height||this.getCompProp("height")||30,e={
onClick:this.handleViewEvent,"data-proxy-name":"Button2",style:{height:d,maxWidth:c.width}};this.getCompProp("shouldNotExceedParentWidth")&&(e.style.width="100%",e["data-should-prevent-width-measurement"]=!0),a[""]=b.merge({},a[""],e);var f={overflow:"hidden"};return a.link.style=b.merge({},a.link.style,f),a},getDefaultLabel:function(){return""}}}),define("wixappsCore/proxies/mixins/textProxy",["lodash","wixappsCore/proxies/mixins/baseProxy","wixappsCore/core/typesConverter","wixappsCore/util/localizer","wixappsCore/util/richTextUtils","reactDOM","experiment"],function(a,b,c,d,e,f,g){"use strict";function i(b,d,e){var f=a.find(d.links,{linkId:e});return f?c.link(f,b):null}var h=new RegExp(a.escape("<br/?>"),"gi");return{mixins:[b],statics:{prefix:{type:"compProp",defaultValue:""},postfix:{type:"compProp",defaultValue:""},disableLinks:{type:"compProp",defaultValue:!1},lineThrough:{type:"compProp",defaultValue:!1},underline:{type:"compProp",defaultValue:!1},singleLine:{type:"compProp",defaultValue:!1},color:{type:"compProp",defaultValue:null},backgroundColor:{type:"compProp",defaultValue:null},noWrap:{type:"compProp",defaultValue:!1},bold:{type:"compProp",defaultValue:!1},italic:{type:"compProp",defaultValue:!1},lineHeight:{type:"compProp",defaultValue:null},fontFamily:{type:"compProp",defaultValue:null},fontSize:{type:"compProp",defaultValue:null},showTooltip:{type:"compProp",defaultValue:!1}},useSkinInsteadOfStyles:!0,getInitialState:function(){return{showToolTip:!1}},componentDidMount:function(){var a=f.findDOMNode(this),b=this.getCompProp("singleLine")&&this.getCompProp("showTooltip")&&a.scrollWidth>a.offsetWidth;b!==this.state.showToolTip&&this.setState({showToolTip:b})},createFormattedText:function(b,c){if("wix:RichText"===b._type||"wix:MediaRichText"===b._type){var f=this.props.viewProps.getPartDefinition().version;return e.getDataWithDefaultStyleForRichText(this.getCompProp,b,c,f)}if(a.isString(b)||(b=a.isNumber(b)?b.toString():""),g.isOpen("sv_limitAuthorLength")){var i=this.getCompProp("max-chars");i&&(b=b.substring(0,i))}var j=this.props.viewProps.getLocalizationBundle(),k=d.localize(b,j),l=k.replace(h,a.unescape),m=a.compact(["<hatul>",this.getCompProp("prefix"),l,this.getCompProp("postfix"),"</hatul>"]).join("");return e.getDataWithDefaultStyleForString(this.getCompProp,m,c)},getDataByQuery:function(a){var b=this.props.viewProps.siteData;return i(b.getDataByQuery.bind(b),this.proxyData,a)},getRichTextChildCompProps:function(a,b){var c=this.getChildCompProps(a,b);return c.style=c.style||{},c.style.whiteSpace=this.getCompProp("noWrap")?"nowrap":"normal",this.state.showToolTip&&(c.title=(this.getCompProp("prefix")||""+this.proxyData+this.getCompProp("postfix")||"").replace(/\s+/gim," ").replace(/^\s*/,"").replace(/\s*$/,"")),c.noAutoLinkGeneration=!0,c}}}),define("wixappsCore/util/textClipper",["lodash","utils"],function(a,b){"use strict";function e(b){return a.reduce(d,function(a,b){return a.replace(b,"*")},b).length}function f(a,b){for(var c=new RegExp("("+d.join("|")+")"),e="",f=0;b>f&&a.length>0;){var g=c.exec(a),h=g?g.index:a.length,i=a.substr(0,h);i=i.substr(0,b-f),f+=i.length,b>f&&g&&(i+=g[0],f+=1),a=a.substr(i.length),e+=i}return e}function g(a){return a.replace(new RegExp("(\\s|&nbsp;)+$"),"")}function h(a,b){var d=[],h=[],i=!1,j=0;return c(a,{start:function(a,b,c,e){i||(d.push(e),c||h.push("</"+a+">"))},chars:function(a){if(!i){var c=e(a);if(b>=j+c)j+=c,d.push(a);else{i=!0;var k=f(a,b-j);for(d.push(g(k)),d.push("...");h.length>0;)d.push(h.pop())}}},end:function(){i||d.push(h.pop())}}),d.join("")}var c=b.htmlParser,d=["&nbsp;","&lt;","&gt;","&amp;","&cent;","&pound;","&yen;","&euro;","&copy;","&reg;"];return{clipText:h}}),define("wixappsCore/proxies/clippedParagraphProxy",["lodash","core","wixappsCore/proxies/mixins/textProxy","wixappsCore/core/typesConverter","wixappsCore/util/textClipper","fonts"],function(a,b,c,d,e,f){"use strict";function h(b){var c=parseFloat(b);return isNaN(c)&&a.includes(["normal","initial","inherit"],b)&&(c=1.2),c}function i(a){var b=this.getCompProp("minLines")||this.getCompProp("singleLine")&&1;if(!b)return 0;var c=f.fontUtils.getFontClassName(a),d=this.props.viewProps.siteData.getFont(c),e=f.fontUtils.parseFontStr(d),g=1.25;return this.getCompProp("line-height")&&(g=h(this.getCompProp("line-height"))),parseInt(e.size,10)*g*b}var g=b.compFactory;return{mixins:[c],renderProxy:function(){var a=this.proxyData,b=this.createFormattedText(a),c=i.call(this,b),f=function(a){return a[""].style=a[""].style||{},a[""].style.overflow="hidden",c&&(a[""].style["min-height"]=c),a},h="wysiwyg.viewer.components.WRichText",j=this.getRichTextChildCompProps(h,f),k=this.getCompProp("max-chars")||150,l=this.getCompProp("remove-anchors")||!1;return l&&(b=b.replace(/(<a[^>]*>)/g,"").replace(/(<\/a>)/g,"")),b=e.clipText(b,k),j.compData=d.richText(b,a.links,this.props.viewProps.siteData),g.getCompClass(h)(j)}}}),define("wixappsCore/proxies/comboBoxProxy",["lodash","core","wixappsCore/core/typesConverter","wixappsCore/proxies/mixins/inputProxy","wixappsCore/util/localizer"],function(a,b,c,d,e){"use strict";function g(){return{placeholder:{text:e.localize(this.getCompProp("promptText"),this.props.viewProps.getLocalizationBundle()),value:-1},size:null}}var f=b.compFactory;return{mixins:[d],renderProxy:function(){var b=this.proxyData,d=this,h="wysiwyg.viewer.components.inputs.ComboBoxInput",i=this.getChildCompProps(h);return i.compProp=this.getCompProp("hasPrompt")&&!a.some(b.items,{value:b.selectedValue})?g.call(this):{},i.compData=c.selectableList(b),a.forEach(i.compData.options,function(a){a.text=e.localize(a.text,this.props.viewProps.getLocalizationBundle()),a.description=e.localize(a.description,this.props.viewProps.getLocalizationBundle())},this),i.onSelectionChange=function(a,c){a.payload.listData=b;var e=a.payload.value||b.items[0].value;d.setData(e,"selectedValue"),d.handleViewEvent(a,c)},i.errorMessage=!b.valid,f.getCompClass(h)(i)}}}),define("wixappsCore/proxies/cssProxy",["lodash","react","wixappsCore/proxies/mixins/baseCompositeProxy"],function(a,b,c){"use strict";return{mixins:[c],renderProxy:function(){var c=this.getCompProp("items"),d=a.map(c,function(a,b){return this.renderChildProxy(a,b)},this),e=this.getChildCompProps();return b.DOM.div(e,d)}}}),define("wixappsCore/proxies/dateProxy",["core","wixappsCore/proxies/mixins/textProxy","wixappsCore/core/typesConverter"],function(a,b,c){"use strict";var d=a.compFactory,e="wysiwyg.viewer.components.WRichText",f=function(){var a=/d{1,5}|m{1,5}|yy(?:yy)?|([HhMsTt])\1?|[LloSZ]|"[^"]*"|'[^']*'/g,b=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[\-+]\d{4})?)\b/g,c=/[^-+\dA-Z]/g,d=function(a,b){for(a=String(a),b=b||2;a.length<b;)a="0"+a;return a};return function(e,g,h){var i=f;if(1!==arguments.length||"[object String]"!==Object.prototype.toString.call(e)||/\d/.test(e)||(g=e,e=void 0),e=e?new Date(e):new Date,isNaN(e))throw"invalid date";g=String(i.masks[g]||g||i.masks["default"]),"UTC:"===g.slice(0,4)&&(g=g.slice(4),h=!0);var j=h?"getUTC":"get",k=e[j+"Date"](),l=e[j+"Day"](),m=e[j+"Month"](),n=e[j+"FullYear"](),o=e[j+"Hours"](),p=e[j+"Minutes"](),q=e[j+"Seconds"](),r=e[j+"Milliseconds"](),s=h?0:e.getTimezoneOffset(),t={d:k,dd:d(k),ddd:i.i18n.dayNames[l],dddd:i.i18n.dayNames[l+7],ddddd:i.i18n.dayNames[l].toUpperCase(),m:m+1,mm:d(m+1),mmm:i.i18n.monthNames[m],mmmm:i.i18n.monthNames[m+12],mmmmm:i.i18n.monthNames[m].toUpperCase(),yy:String(n).slice(2),yyyy:n,h:o%12||12,hh:d(o%12||12),H:o,HH:d(o),M:p,MM:d(p),s:q,ss:d(q),l:d(r,3),L:d(r>99?Math.round(r/10):r),t:12>o?"a":"p",tt:12>o?"am":"pm",T:12>o?"A":"P",TT:12>o?"AM":"PM",Z:h?"UTC":(String(e).match(b)||[""]).pop().replace(c,""),o:(s>0?"-":"+")+d(100*Math.floor(Math.abs(s)/60)+Math.abs(s)%60,4),S:["th","st","nd","rd"][k%10>3?0:(k%100-k%10!==10)*k%10]};return g.replace(a,function(a){return a in t?t[a]:a.slice(1,a.length-1)})}}();return f.masks={"default":"mmmm dd, yyyy",shortDate:"m/d/yy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:ss",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'",eUshortDate:"d/m/yy",eUshortDate2:"d.m.yy"},f.i18n={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"]},{mixins:[b],statics:{componentType:e,format:{type:"compProp",defaultValue:"mmmm dd, yyyy"}},getFormattedDateString:function(a){var b=this.getCompProp("format")||this.constructor.format.defaultValue,c=a.iso||a,d=new Date(c);return d.getTime()>=0?f(d,b):""},renderProxy:function(){var a=this.proxyData,b=this.createFormattedText(this.getFormattedDateString(a)),f=this.getRichTextChildCompProps(e);return f.compData=c.richText(b,a.links,this.props.viewProps.siteData),d.getCompClass(e)(f)}}}),define("wixappsCore/proxies/erasableTextInputProxy",["core","wixappsCore/core/typesConverter","wixappsCore/proxies/mixins/inputProxy"],function(a,b,c){"use strict";var d=a.compFactory;return{mixins:[c],renderProxy:function(){var a=this.proxyData,c="wysiwyg.viewer.components.inputs.ErasableTextInput",e=this.getChildCompProps(c);e.compData=b.text(a),e.compProp={label:this.getCompProp("label"),placeholder:this.getCompProp("placeholder")},e.message=this.getCompProp("message"),e.isValid=this.getCompProp("isValid");var f=this;return e.onChange=function(a,b){f.setData(a.target.value),a.type="inputChanged",f.handleViewEvent(a,b)},e.onErase=function(){f.setData("")},d.getCompClass(c)(e)}}}),define("wixappsCore/proxies/fixedRatioProxy",["react","wixappsCore/proxies/mixins/baseCompositeProxy","lodash"],function(a,b,c){"use strict";function d(a,b){var d=function(b){return a[b]&&!(c.isString(a[b])&&"%"===a[b].slice(-1))},e={};if(d("width"))e.width=parseInt(a.width,10),e.height=Math.floor(e.width/b);else if(d("height"))e.height=parseInt(a.height,10),e.width=Math.floor(e.height*b);else{if(!d("box-flex")&&!d("boxFlex"))throw new Error("FixedRatioProxy's child proxy does not receive legal layout properties");e.position="absolute",e.height="100%",e.width="100%",e.top="0px",e.left="0px"}return e}function e(b,c){var d={1:"data:image/gif;base64,R0lGODlhAQABAIAAAP7//wAAACH5BAAAAAAALAAAAAABAAEAAAICRAEAOw==",1.77:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAJCAYAAAA7KqwyAAAAE0lEQVR42mP4TyFgGDVg1AAgAAC2ij3fb7PW1wAAAABJRU5ErkJggg=="},e={position:"relative",top:"0px",bottom:"0px",left:"0px",right:"0px",visibility:"hidden"};if("vertical"===b?e.minWidth="100%":e["min-height"]="100%",!d[c])throw"This ratio is not supported by the current map: "+c;return a.DOM.img({src:d[c],style:e})}function f(a){var b={vertical:{width:"100%",minWidth:"100%",position:"relative"},horizontal:{height:"100%","min-height":"100%",position:"relative"}};return b[a]}return{mixins:[b],renderProxy:function(){var b=this.getCompProp("items"),g=parseFloat(this.getCompProp("aspectRatio"));if(1!==b.length)throw new Error("FixedRatioProxy can only contain one child");if(!g)throw new Error("FixedRatioProxy did not receive any aspect ratio");var h=b[0],i=this.getStyleDef(h);if(h.layout&&!h.layout["box-flex"]&&!h.layout.boxFlex)return c.merge(i,d(i,g)),this.renderChildProxy(h,0,i);var j=e(this.props.orientation,g),k=f(this.props.orientation);return a.DOM.div({style:c.merge(k,i)},j,this.renderChildProxy(h,0,d(i,g)))}}}),define("wixappsCore/proxies/mixins/templateBasedChildrenProxy",["lodash"],function(a){"use strict";function b(b,c){return c?"first"===b&&a.has(c,"first")?c.first:"last"===b&&a.has(c,"last")?c.last:c.item:{}}function c(a,b){return 0===a?"first":a===b-1?"last":"middle"}return{getChildTemplateDefinition:function(a,d){var e=this.getCompProp("templates"),f=c(a,d);return b(f,e)}}}),define("wixappsCore/proxies/galleryProxy",["lodash","core","wixappsCore/proxies/mixins/templateBasedChildrenProxy","wixappsCore/proxies/mixins/baseCompositeProxy"],function(a,b,c,d){"use strict";function f(a){return a[""]["data-proxy-name"]="GalleryProxy",a[""]["data-total-columns"]=this.getCompProp("columns"),a[""]["data-total-rows"]=this.getCompProp("rows"),a[""]["data-gap"]=this.getCompProp("gap"),a.itemsContainer.style.width=isNaN(a.itemsContainer.style.width)?"100%":a.itemsContainer.style.width,a.itemsContainer.style.height=isNaN(a.itemsContainer.style.height)?"100%":a.itemsContainer.style.height,a}function g(b,c){if(!a.isEqual(b.compData,c.compData))return!1;var d=["numCols","maxRows","margin"];return a.isEqual(a.pick(b.compProp,d),a.pick(c.compProp,d))}var e=b.compFactory;return{mixins:[d,c],createGalleryItem:function(b,c,d,e,f,g,h){var i=this.getCompProp("columns"),j=this.getCompProp("rows"),k=this.getCompProp("gap")||0,l={position:"absolute",width:"calc((100% - "+(i-1)*k+"px) / "+i+")",height:"calc((100% - "+(j-1)*k+"px) / "+j+")"};g&&(l=a.merge(l,g));var m={getComponentScopedClass:function(a){var b={};return b[a]=!0,h(b)}},n=this.getChildTemplateDefinition(d,f),o=this.getViewDefProp("data")||"this",p=a.indexOf(this.proxyData,c),q=this.getItemRef(b,e,d),r=this.getChildProxyProps(n,[o,p],{functionLibrary:m}),s={className:h({galleryDisplayer:!0}),"data-index":d};return r=a.assign(r,s),this.renderChildProxy(n,q,l,r)},getItemRef:function(a,b,c){return a+b+"#"+c},registerComponentReLayout:function(){this.refs.component.registerReLayout()},renderProxy:function(){var a="wysiwyg.viewer.components.PaginatedGridGallery",b=this.getChildCompProps(a,f.bind(this));b.createGalleryItem=this.createGalleryItem,b.onAnimationCompleteCallback=this.registerComponentReLayout,b.getItemRef=this.getItemRef,b.compData={items:this.proxyData},b.compProp={transition:this.getCompProp("transition"),autoplayInterval:this.getCompProp("autoplayInterval"),transDuration:this.getCompProp("transDuration")||1,numCols:this.getCompProp("columns"),maxRows:this.getCompProp("rows"),margin:this.getCompProp("gap"),autoplay:this.getCompProp("autoplay"),expandEnabled:this.getCompProp("expandEnabled"),showAutoplay:this.getCompProp("showAutoplay"),showNavigation:this.getCompProp("showNavigation")!==!1,showCounter:this.getCompProp("showCounter")!==!1},b.style.position="relative",b.key=this.getViewDefProp("id")+"_"+this.getCompProp("rows")+"_"+this.getCompProp("columns");var c=this.props.viewProps.siteData.measureMap;return c&&c.height[b.id]&&this.refs.component&&g(b,this.refs.component.props)&&(b.style.width=c.width[b.id],b.style.height=c.height[b.id]),e.getCompClass(a)(b)}}}),define("wixappsCore/proxies/hBoxProxy",["react","wixappsCore/proxies/mixins/boxProxy"],function(a,b){"use strict";return{mixins:[b],getChildrenOrientation:function(){return"horizontal"},getReactClass:function(){return a.DOM.div}}}),define("wixappsCore/proxies/horizontalLineProxy",["core","wixappsCore/proxies/mixins/baseProxy","lodash"],function(a,b,c){"use strict";function f(a){return a[""]=c.merge({},a[""],{style:{position:"relative"}}),a}var d=a.compFactory,e="wysiwyg.viewer.components.FiveGridLine";return{mixins:[b],statics:{componentType:e},renderProxy:function(){var a=this.getChildCompProps(e,f);return d.getCompClass(e)(a)}}}),define("wixappsCore/proxies/iconProxy",["core","wixappsCore/core/typesConverter","wixappsCore/proxies/mixins/baseProxy"],function(a,b,c){"use strict";var d=a.compFactory;return{mixins:[c],renderProxy:function(){var a=this.proxyData,c="wixapps.integration.components.Icon",e=this.getChildCompProps(c);return e.compData=b.icon(a,this.props.viewProps.resolveImageData,this.props.viewProps.siteData.serviceTopology,this.props.viewProps.packageName),d.getCompClass(c)(e)}}}),define("wixappsCore/proxies/imageButtonProxy",["core","wixappsCore/core/typesConverter","wixappsCore/proxies/mixins/baseProxy"],function(a,b,c){"use strict";var d=a.compFactory;return{mixins:[c],renderProxy:function(){var a=this.proxyData,c="wixapps.integration.components.ImageButton",e=this.getChildCompProps(c);return e.compData=b.icon(a,this.props.viewProps.resolveImageData,this.props.viewProps.siteData.serviceTopology,this.props.viewProps.packageName),e.compProp={isSprite:this.getCompProp("isSprite"),spriteDirection:this.getCompProp("spriteDirection"),startPositionX:this.getCompProp("startPositionX"),startPositionY:this.getCompProp("startPositionY")},d.getCompClass(c)(e)}}}),define("wixappsCore/proxies/imageButtonWithTextProxy",["core","lodash","wixappsCore/proxies/mixins/baseProxy"],function(a,b,c){"use strict";return{mixins:[c],renderProxy:function(){var c="wysiwyg.viewer.components.ImageButtonWithText",d=b.merge({},this.getChildCompProps(c),{compData:{iconSource:this.getCompProp("iconSource"),label:this.getCompProp("label"),extraInfo:this.getCompProp("extraInfo"),type:this.getCompProp("type")},compProp:{direction:this.props.viewProps.compProp.direction,size:this.getCompProp("size")}});return a.compFactory.getCompClass(c)(d)}}}),define("wixappsCore/proxies/mixins/baseImageProxy",["lodash","core","wixappsCore/proxies/mixins/baseProxy","react"],function(a,b,c,d){"use strict";function h(b,c){var d=a.pick(c,["width","height"]);return"fitWidth"===b&&a.isNumber(c.width)?d:"fitHeight"===b&&a.isNumber(c.height)?d:a.isNumber(c.height)&&a.isNumber(c.width)?d:{width:16,height:16}}var e=b.compFactory,f={fitWidth:"fitWidthStrict",fitHeight:"fitHeightStrict"},g="wysiwyg.viewer.components.WPhoto";return{mixins:[c],statics:{componentType:g},getCustomStyle:function(){return{position:"relative"}},renderProxy:function(){var a=this.getCompProp("imageMode")||"fill",b=this.getCompData(),c=this.getChildCompProps(g);c.compData=b;var i=f[a]||a;c.compProp={displayMode:i};var j={"data-proxy-name":"Image","data-width":b.width,"data-height":b.height,"data-uri":b.uri,"data-display-mode":i,id:c.id+"_container",style:c.style,ref:"container"};return c.style=h(i,c.style),d.DOM.div(j,e.getCompClass(g)(c))}}}),define("wixappsCore/proxies/imageProxy",["wixappsCore/core/typesConverter","wixappsCore/proxies/mixins/baseImageProxy"],function(a,b){"use strict";return{mixins:[b],getCompData:function(){return a.image(this.proxyData,this.props.viewProps.resolveImageData,this.props.viewProps.siteData.serviceTopology,this.props.viewProps.packageName,this.props.viewProps.siteData.getGlobalImageQuality())}}}),define("wixappsCore/proxies/inlineSpacerProxy",["react","wixappsCore/proxies/mixins/baseProxy"],function(a,b){"use strict";return{mixins:[b],getCustomStyle:function(){var a=this.getCompProp("size");return{wordSpacing:a,display:"inline"}},renderProxy:function(){var b=this.getChildCompProps();return a.DOM.div(b," ")}}}),define("wixappsCore/proxies/inlineTextProxy",["core","wixappsCore/proxies/mixins/textProxy","wixappsCore/core/typesConverter","react"],function(a,b,c,d){"use strict";function f(a){return a[""].parentConst=d.DOM.span,a}var e=a.compFactory;return{mixins:[b],renderProxy:function(){var a=this.proxyData,b=this.createFormattedText(a,"span"),d="wysiwyg.viewer.components.WRichText",g=this.getRichTextChildCompProps(d,f);return g.compData=c.richText(b,a.links,this.props.viewProps.siteData),e.getCompClass(d)(g)}}}),define("wixappsCore/proxies/labelProxy",["core","wixappsCore/proxies/mixins/textProxy","wixappsCore/core/typesConverter"],function(a,b,c){"use strict";var d=a.compFactory,e="wysiwyg.viewer.components.WRichText";return{mixins:[b],statics:{componentType:e},renderProxy:function(){var a=this.proxyData,b=this.createFormattedText(a),f=this.getRichTextChildCompProps(e);return f.compData=c.richText(b,a.links,this.props.viewProps.siteData),d.getCompClass(e)(f)}}}),define("wixappsCore/proxies/linkProxy",["react","utils","wixappsCore/core/typesConverter","wixappsCore/proxies/mixins/boxProxy"],function(a,b,c,d){"use strict";return{mixins:[d],getChildrenOrientation:function(){return this.getCompProp("orientation")||"vertical"},getReactClass:function(){return a.DOM.a},getCustomProps:function(){var a=this.props.viewProps.siteData,d=c.link(this.proxyData,a.getDataByQuery.bind(a)),e=b.linkRenderer.renderLink(d,a,this.props.viewProps.rootNavigationInfo);return e.className="wixAppsLink",e}}}),define("wixappsCore/proxies/listProxy",["lodash","core","wixappsCore/proxies/mixins/templateBasedChildrenProxy","wixappsCore/proxies/mixins/baseCompositeProxy"],function(a,b,c,d){"use strict";function f(a){g.call(this,a.params.page)}function g(a){this.setState({currentPage:a}),this.props.viewProps.siteAPI.registerReLayoutPending()}function h(){return 1===this.state.currentPage?j.call(this):this.state.currentPage-1}function i(){return this.state.currentPage===j.call(this)?1:this.state.currentPage+1}function j(){var a=this.proxyData.length,b=this.getCompProp("itemsPerPage");return Math.ceil(a/b)}var e=b.compFactory;return{mixins:[d,c],getDefaultProps:function(){return{}},getInitialState:function(){return{currentPage:1}},prevPageClicked:function(){g.call(this,h.call(this))},nextPageClicked:function(){g.call(this,i.call(this))},renderProxy:function(){var g,b=this.proxyData,c=b.length,d=this.getCompProp("templates")?this.getCompProp("templates.vars"):{},h=this.getCompProp("hidePagination");h||(g=this.getCompProp("itemsPerPage"));var i=0,j=c,k=1,l=this.state.currentPage;a.isUndefined(g)||(i=(l-1)*g,j=Math.min(i+g,c),k=Math.ceil(c/g));var m=b.slice(i,j),n=m.length,o=a.map(m,function(b,c){var e="middle";0===c&&n>1?e="first":c===n-1&&(e="last");var g={indexInParent:c,indexOneInParent:c+1,positionInParent:e,isOddIndexInParent:c%2===1,currentPage:l,maxPage:k,hasNext:l!==k,hasPrev:1!==l,hidePagination:this.getCompProp("hidePagination")};g=a.merge({},d,g);var h={prevPageClicked:this.prevPageClicked,nextPageClicked:this.nextPageClicked,numberedPageClicked:a.bind(f,this)},j=this.getViewDefProp("data")||"this",m=this.getChildTemplateDefinition(c,n),o={vars:{proxy:g},events:h},p=i+c,q=this.getChildProxyProps(m,[j,p],o);return q["data-isfirst"]=0===c,q["data-iseven"]=c%2===1,q["data-islast"]=c===n-1,q.proxyParentId=this.props.viewDef.id+"_"+p,this.renderChildProxy(m,p,this.props.childAdditionalStyle,q)},this),p=this.getChildCompProps("wysiwyg.viewer.components.VerticalRepeater");return p.style=a.merge(p.style,this.props.additionalStyle),e.getCompClass("wysiwyg.viewer.components.VerticalRepeater")(p,o)}}}),define("wixappsCore/proxies/mediaLabelProxy",["lodash","core","wixappsCore/proxies/mixins/textProxy","wixappsCore/core/typesConverter"],function(a,b,c,d){"use strict";function f(b){return b[""]=a.merge({},b[""],{"data-proxy-name":"MediaLabel"}),b}function g(a){var b=a.viewDef.data||"this";return this.props.viewProps.getNormalizedDataPath(this.contextPath,b)}function h(a){if(a){if("wix:Image"===a._type){var b=this.props.viewProps.siteData.getGlobalImageQuality();return d.image(a,this.props.viewProps.resolveImageData,this.props.viewProps.siteData.serviceTopology,this.props.viewProps.packageName,b)}if("wix:Video"===a._type)return d.video(a)}return null}var e=b.compFactory;return{mixins:[c],shouldComponentUpdate:function(b){var c=a.includes(this.props.viewProps.siteData.componentsToRender,this.props.viewProps.compId),d=g.call(this,b),e=d&&!a.isEqual(this.fullDataPath,d);return c||e||!(!this.isViewDefCompChangedInNextProps||!this.isViewDefCompChangedInNextProps(b))},renderProxy:function(){var b=this.proxyData;this.fullDataPath=g.call(this,this.props);var c=this.createFormattedText(b),i="wysiwyg.viewer.components.MediaRichText",j=this.getRichTextChildCompProps(i,f),k=a.mapValues(b.refMap,h,this);return j.compData=d.richText(c,b.links,this.props.viewProps.siteData,k),e.getCompClass(i)(j)}}}),define("wixappsCore/proxies/paginatedColumnGalleryProxy",["lodash","core","react","utils","wixappsCore/proxies/mixins/templateBasedChildrenProxy","wixappsCore/proxies/mixins/baseCompositeProxy"],function(a,b,c,d,e,f){"use strict";var g=b.componentUtils.galleryPagingCalculations;return{mixins:[f,e],componentWillUpdate:function(a){var b=Math.ceil(this.proxyData.length/this.getItemsNumberPerPage(a)),c=this.getVar("maxPage");b!==c&&this.setVar("maxPage",b,!0)},componentWillMount:function(){var a=Math.ceil(this.proxyData.length/this.getItemsNumberPerPage(this.props));this.setVar("maxPage",a,!0)},getItemsNumberPerPage:function(b){var c=parseInt(this.getCompProp("itemsPerPage",b.viewDef),10);return(a.isNaN(c)||!a.isNaN(c)&&c>=this.proxyData.length)&&(c=this.proxyData.length),c},createChildProxy:function(b,e,f){var g=this.getViewDefProp("data")||"this",h=this.getChildTemplateDefinition(b,e),i=this.getChildProxyProps(h,[g,b],{});return c.DOM.div({key:b,style:a.assign({display:"inline-block",verticalAlign:"top",width:100/f+"%"},d.style.prefix({boxSizing:"border-box"}))},this.renderChildProxy(h,b,null,i))},getCurrentPositionInData:function(a,b){return a===this.proxyData.length?0:b*a},getCurrentPage:function(){var a=this.getVar("currentPage")||1;return a=parseInt(a,10)-1},renderProxy:function(){for(var a=this.getItemsNumberPerPage(this.props),b=this.getCurrentPage(),d=this.getCurrentPositionInData(a,b),e=this.getCompProp("columns")||3,f=[],h=g.getLastItemIndex(this.proxyData,d,a),i=d;h>=i;i++)f.push(this.createChildProxy(i,a,e));var j=this.getChildCompProps();return j["data-proxy-name"]="PaginatedColumnGalleryProxy",j["data-direction"]=this.getVar("partDirection")||"ltr",j["data-horizontal-gap"]=this.getCompProp("horizontalGap")||0,j["data-vertical-gap"]=this.getCompProp("verticalGap")||0,j["data-columns"]=e,c.DOM.div(j,f)}}}),define("wixappsCore/proxies/paginationProxy",["lodash","react","wixappsCore/proxies/mixins/baseCompositeProxy"],function(a,b,c){"use strict";function d(){return{style:e.call(this)}}function e(){return{display:"inline-flex"}}function f(){return a.map(g.call(this),function(a,b){var c=ka.call(this,a),d=sa(a,b),e=null,f=qa.call(this,a);return this.renderChildProxy(c,d,e,f)},this)}function g(){return[].concat(h.call(this),u.call(this),v.call(this))}function h(){return i.call(this).concat(p.call(this))}function i(){return j.call(this)?[k.call(this)]:[]}function j(){return!fa.call(this,1)}function k(){return J.call(this,{isFirst:!0,name:l.call(this),number:o.call(this)})}function l(){return"<"+(m.call(this)?" "+n.call(this):"")}function m(){return Boolean(n.call(this))}function n(){return this.getCompProp("nameForPrevious")}function o(){return ga.call(this)-1}function p(){return q.call(this)?r.call(this):[]}function q(){return K.call(this,1)}function r(){return s.call(this).concat(I.call(this))}function s(){return ca.call(this)||!C.call(this)?[t.call(this)]:[]}function t(){return J.call(this,{number:1})}function u(){return a.map(M.call(this),function(a){return J.call(this,{isFirst:1===a&&!j.call(this),isDisabled:fa.call(this,a),number:a})},this)}function v(){return w.call(this).concat(B.call(this))}function w(){return x.call(this)?y.call(this):[]}function x(){return K.call(this,ia.call(this))}function y(){return[I.call(this)].concat(z.call(this))}function z(){return ca.call(this)||!j.call(this)?[A.call(this)]:[]}function A(){return J.call(this,{number:ia.call(this)})}function B(){return C.call(this)?[D.call(this)]:[]}function C(){return!fa.call(this,ia.call(this))}function D(){return J.call(this,{name:E.call(this),number:H.call(this)})}function E(){return(F.call(this)?G.call(this)+" ":"")+">"}function F(){return Boolean(G.call(this))}function G(){return this.getCompProp("nameForNext")}function H(){return ga.call(this)+1}function I(){return J.call(this,{isDisabled:!0,isGap:!0,name:"..."})}function J(a){return{paginationItemDisabled:Boolean(a.isDisabled),paginationItemFirst:Boolean(a.isFirst),paginationItemGap:Boolean(a.isGap),paginationItemName:a.name?a.name:a.number.toString(),paginationItemValue:a.isDisabled?null:a.number}}function K(a){return!L.call(this,a)}function L(b){return a.includes(M.call(this),b)}function M(){return a.range(N.call(this),U.call(this)+1)}function N(){return O.call(this)||X.call(this)?1:Q.call(this)}function O(){return P.call(this)<aa.call(this)}function P(){return Q.call(this)-1}function Q(){return Math.max(R.call(this),1)}function R(){return S.call(this)-ba.call(this)}function S(){return Math.min(T.call(this),ia.call(this))}function T(){return ga.call(this)+ca.call(this)}function U(){return V.call(this)||X.call(this)?ia.call(this):Y.call(this)}function V(){return W.call(this)<aa.call(this)}function W(){return ia.call(this)-Y.call(this)}function X(){return ia.call(this)<4}function Y(){return Math.min(Z.call(this),ia.call(this))}function Z(){return $.call(this)+ba.call(this)}function $(){return Math.max(_.call(this),1)}function _(){return ga.call(this)-ca.call(this)}function aa(){return ca.call(this)?3:2}function ba(){return 2*ca.call(this)}function ca(){return da.call(this)?ea.call(this):1}function da(){return!a.isNaN(ea.call(this))}function ea(){return a.parseInt(this.getCompProp("numberOfSideItems"))}function fa(a){return a===ga.call(this)}function ga(){return ha.call(this)||1}function ha(){return a.parseInt(this.getCompProp("currentPageNumber"))}function ia(){return ja.call(this)||1}function ja(){return a.parseInt(this.getCompProp("totalNumberOfPages"))}function ka(a){return la.call(this,pa.call(this,a))}function la(a){return a?ma.call(this):na.call(this)}function ma(){return oa.call(this,"item")}function na(){return oa.call(this,"disabledItem")}function oa(a){return this.getCompProp("templates")[a]}function pa(a){return!a.paginationItemDisabled}function qa(a){var b=ka.call(this,a),c="this",d=ra.call(this,a);return this.getChildProxyProps(b,c,d)}function ra(a){return{vars:{proxy:a}}}function sa(b,c){return a.template("${name}${availability}${position}")({name:b.paginationItemName,availability:!b.paginationItemDisabled,position:c})}return{mixins:[c],renderProxy:function(){return b.DOM.div(d.call(this),f.call(this))}}}),define("wixappsCore/proxies/sliderGalleryProxy",["lodash","react","core","wixappsCore/core/typesConverter","wixappsCore/proxies/mixins/baseProxy"],function(a,b,c,d,e){"use strict";function g(){return{showAutoplay:this.getCompProp("showAutoplay")||!1,loop:this.getCompProp("loop")||!1,showCounter:this.getCompProp("showCounter")||!1,expandEnabled:this.getCompProp("expandEnabled")||!1,galleryImageOnClickAction:this.getCompProp("galleryImageOnClickAction"),imageMode:this.getCompProp("imageMode"),maxSpeed:this.getCompProp("maxSpeed")||5,margin:this.getCompProp("margin"),aspectRatio:1.333}}function h(){var b=a.map(this.proxyData,function(b){var c=a.clone(b);return this.props.viewProps.resolveImageData(c,this.props.viewProps.siteData.serviceTopology,this.props.viewProps.packageName)},this);return{items:b}}var f=c.compFactory;return{mixins:[e],useSkinInsteadOfStyles:!0,renderProxy:function(){var c="wysiwyg.viewer.components.SliderGallery",e=h.call(this),i=g.call(this),j=a.merge(this.getChildCompProps(c),{compData:d.imageList(e,this.props.viewProps.resolveImageData,this.props.viewProps.siteData.serviceTopology,this.props.viewProps.siteData),compProp:i,onImageSelected:this.handleViewEvent,structure:this.props.structure}),k={"data-proxy-name":"SliderGallery","data-aspect-ratio":i.aspectRatio,"data-image-mode":i.imageMode,id:j.id+"_container",style:j.style,ref:"container"};return b.DOM.div(k,f.getCompClass(c)(j))}}}),define("wixappsCore/proxies/stackProxy",["lodash","react","wixappsCore/proxies/mixins/baseCompositeProxy"],function(a,b,c){"use strict";return{mixins:[c],getCustomStyle:function(){return{position:"relative"}},renderProxy:function(){var c=this.getCompProp("items"),d=a.map(c,function(a,b){var c=this.getCompProp("layout",a),d=0===b&&"layout"!==this.getCompProp("stackType")?"static":"absolute",e={position:d,top:c.top||"0px",left:c.left||"0px"};return this.renderChildProxy(a,b,e)},this),e=this.getChildCompProps();return e["data-proxy-name"]="Stack",b.DOM.div(e,d)}}}),define("wixappsCore/proxies/switchBoxProxy",["lodash","wixappsCore/proxies/mixins/baseCompositeProxy"],function(a,b){"use strict";return{mixins:[b],
renderProxy:function(){var b=this.getCompProp("cases"),c=a.has(b,this.proxyData)?this.proxyData:"default",d=b[c];if(!d||0===d.length)return null;var e=this.getCompProp("orientation")||"vertical",f=a.cloneDeep(a.omit(this.props.viewDef,["comp.cases"]));return delete f.data,delete f.name,delete f.forType,delete f.comp.cases,f.id=f.id+"_"+c,f.comp.name="vertical"===e?"VBox":"HBox",f.comp.items=d,this.renderChildProxy(f,f.id,this.getProxyStyle())}}}),define("wixappsCore/proxies/textAreaProxy",["core","wixappsCore/core/typesConverter","wixappsCore/proxies/mixins/inputProxy"],function(a,b,c){"use strict";var d=a.compFactory;return{mixins:[c],renderProxy:function(){var a="wixapps.integration.components.inputs.TextArea",c=this.getChildCompProps(a),e=this.proxyData,f=void 0!==e.valid?e.valid:!0;return c.compData=b.text(this.state.text,this.getCompProp("maxLength")),c.compProp={placeholder:this.getCompProp("placeholder"),label:this.getCompProp("label"),message:this.getCompProp("message")||!f,isPreset:this.getCompProp("isPreset"),onChange:this.updateText,onBlur:this.onBlur},d.getCompClass(a)(c)},getInitialState:function(){var a=this.proxyData,b=void 0!==a.text?a.text:a;return{text:b}},updateText:function(a){var b=a.target.value;this.setState({text:b})},onBlur:function(a,b){var c=a.target.value;a.type="inputChanged",a.payload={value:c};var d=void 0!==this.proxyData.text?"text":"this";this.setData(c,d),this.handleViewEvent(a,b)}}}),define("wixappsCore/proxies/textInputProxy",["core","wixappsCore/core/typesConverter","wixappsCore/proxies/mixins/inputProxy"],function(a,b,c){"use strict";var d=a.compFactory;return{mixins:[c],renderProxy:function(){var a=this.proxyData,c="wysiwyg.viewer.components.inputs.TextInput",e=this.getChildCompProps(c);e.compData=b.text(a),e.compProp={label:this.getCompProp("label"),placeholder:this.getCompProp("placeholder")},e.message=this.getCompProp("message"),e.isValid=this.getCompProp("isValid");var f=this;return e.onChange=function(a,b){f.setData(a.target.value),a.type="inputChanged",f.handleViewEvent(a,b)},d.getCompClass(c)(e)}}}),define("wixappsCore/proxies/toggleProxy",["core","wixappsCore/proxies/mixins/baseCompositeProxy"],function(a,b){"use strict";function d(){var a=this.getCompProp("templates"),b=this.renderChildProxy(a.on,"on"),c=this.renderChildProxy(a.off,"off");return[b,c]}var c=a.compFactory;return{mixins:[b],renderProxy:function(){var a=d.call(this),b="wixapps.integration.components.Toggle",e=this.getChildCompProps(b);return e.initialState=this.getCompProp("initialState")||"off",c.getCompClass(b)(e,a)}}}),define("wixappsCore/proxies/vBoxProxy",["react","wixappsCore/proxies/mixins/boxProxy"],function(a,b){"use strict";return{mixins:[b],getChildrenOrientation:function(){return"vertical"},getReactClass:function(){return a.DOM.div}}}),define("wixappsCore/proxies/flowListProxy",["wixappsCore/proxies/listProxy"],function(a){"use strict";return{mixins:[a],getDefaultProps:function(){return{additionalStyle:{display:"block",whiteSpace:"normal"},childAdditionalStyle:{display:"inline-block",width:"auto"}}}}}),define("wixappsCore/proxies/videoProxy",["core","wixappsCore/core/typesConverter","wixappsCore/proxies/mixins/baseProxy"],function(a,b,c){"use strict";var d=a.compFactory,e="wysiwyg.viewer.components.Video";return{mixins:[c],statics:{componentType:e},renderProxy:function(){var a=this.proxyData,c=this.getChildCompProps(e);return c.compData=b.video(a),c.compProp={showControls:this.getCompProp("showControls"),autoplay:this.getCompProp("autoplay"),loop:this.getCompProp("loop"),showinfo:this.getCompProp("showinfo"),lightTheme:this.getCompProp("lightTheme")},d.getCompClass(e)(c)}}}),define("wixappsCore/proxies/videoThumbProxy",["wixappsCore/core/typesConverter","wixappsCore/proxies/mixins/baseImageProxy"],function(a,b){"use strict";return{mixins:[b],getProxyCustomCssClass:function(){return this.props.viewProps.classSet({videoIndicator:!0})},getCompData:function(){return a.videoThumb(this.proxyData,this.props.viewProps.resolveImageData,this.props.viewProps.siteData.serviceTopology)}}}),define("wixappsCore/core/stylesheetRenderer",["lodash"],function(a){"use strict";function b(a){return/^#/.test(a)?a:"#"+a}function c(b){var c=a.map(b,function(a,b){return b+":"+a});return"{"+c.join(";")+"}"}function d(b,d,e){var f=b+" "+d+" ",g=[];return a.forOwn(e,function(b,d){a.forEach(d.split(/\s*,\s*/),function(a){var d=f+a+c(b);g.push(d)})}),g}function e(c,e,f){if(e=b(e),f=b(f),a.isEmpty(c))return null;if(!a.isArray(c))throw"stylesheetRenderer:: stylesheet definition must be an array";return a.flattenDeep(a.map(c,d.bind(null,e,f))).join("")}return{render:e}}),define("wixappsCore/util/wrappedProxyStyles",["lodash"],function(a){"use strict";function c(c){return a.some(b,function(b){return a.includes(c,b)})}var b=["padding","margin","border","top","left","right","bottom","visibility"];return{getWrapperCssClass:function(b){var c=a.some(b,function(b,c){return a.includes(c,"flex")});return c?"flex_display":""},getProxyStyles:function(b){return a.mapValues(b,function(a,b){return c(b)?null:a})}}}),define("wixappsCore/proxies/viewProxy",["lodash","react","wixappsCore/util/viewsUtils","wixappsCore/proxies/mixins/baseProxy","wixappsCore/proxies/mixins/baseCompositeProxy","wixappsCore/core/stylesheetRenderer","wixappsCore/util/typeNameResolver","wixappsCore/util/wrappedProxyStyles"],function(a,b,c,d,e,f,g,h){"use strict";function i(a,b,d){var e=this.getChildProxyProps(a);return e.viewDef=a,e.viewName=b,e.forType=d,e.viewId=c.sanitizeCompId(b+"_"+d+"_"+this.props.formatName),e.viewContainerId=c.sanitizeCompId(e.viewId+"_"+this.contextPath),e.parentContextPath=this.innerContextPath,e}function j(a,c,d){var e=f.render(a,c,d);return b.DOM.style({type:"text/css",key:c+"."+d,dangerouslySetInnerHTML:{__html:e||""}})}function l(b,c,d){var e=this.getChildCompProps();return e.id=b.viewContainerId,e.ref="viewWrapper",e.style=a.merge({},c,d),e.className+=" "+h.getWrapperCssClass(e.style),e}var k=b.createClass({displayName:"WixappsStyleSheet",mixins:[d],renderProxy:function(){return j(this.getViewDefProp("stylesheet"),this.props.viewProps.compId,this.props.viewContainerId)}});return{mixins:[e],renderProxy:function(){var c=this.getCompProp("name")||this.props.viewName,d=this.proxyData,e=g.getDataItemTypeName(d),f=this.props.viewProps.getViewDef(c,e,this.props.formatName);if(!f)throw"ViewProxy:: Cannot find view definition for viewName ["+c+"] typeName ["+e+"]format ["+this.props.formatName+"]";var j=this.getViewDefProp("data")||"this",m=a.merge({},this.getCompProp("vars"),this.getViewDefProp("vars",f));this.innerContextPath&&this.props.viewContextMap.hasContext(this.innerContextPath)||(this.innerContextPath=this.createContext(this.contextPath,[j],{view:m},{},{}));var n=i.call(this,f,c,e),o=this.getProxyStyle(),p=this.getStyleDef(f,this.innerContextPath),q=l.call(this,n,p,o),r=h.getProxyStyles(q.style);a.has(q.style,"height")&&(r.height=r.width="100%");var s=this.renderChildProxy(f,"child",r,n),t=i.call(this,f,c,e);t.key="stylesheet";var u=b.createElement(k,t);return b.DOM.div(q,u,s)}}}),define("wixappsCore/proxies/verticalLineProxy",["core","wixappsCore/proxies/mixins/baseProxy"],function(a,b){"use strict";var c=a.compFactory;return{mixins:[b],renderProxy:function(){var a="wysiwyg.viewer.components.VerticalLine",b=this.getChildCompProps(a);return c.getCompClass(a)(b)}}}),define("wixappsCore/proxies/proxyMap",["wixappsCore/core/proxyFactory","wixappsCore/proxies/zoomLinkProxy","wixappsCore/proxies/appLinkProxy","wixappsCore/proxies/nativeAppLinkProxy","wixappsCore/proxies/areaProxy","wixappsCore/proxies/buttonProxy","wixappsCore/proxies/button2Proxy","wixappsCore/proxies/clippedParagraphProxy","wixappsCore/proxies/comboBoxProxy","wixappsCore/proxies/cssProxy","wixappsCore/proxies/dateProxy","wixappsCore/proxies/erasableTextInputProxy","wixappsCore/proxies/fixedRatioProxy","wixappsCore/proxies/galleryProxy","wixappsCore/proxies/hBoxProxy","wixappsCore/proxies/horizontalLineProxy","wixappsCore/proxies/iconProxy","wixappsCore/proxies/imageButtonProxy","wixappsCore/proxies/imageButtonWithTextProxy","wixappsCore/proxies/imageProxy","wixappsCore/proxies/inlineSpacerProxy","wixappsCore/proxies/inlineTextProxy","wixappsCore/proxies/labelProxy","wixappsCore/proxies/linkProxy","wixappsCore/proxies/listProxy","wixappsCore/proxies/mediaLabelProxy","wixappsCore/proxies/paginatedColumnGalleryProxy","wixappsCore/proxies/paginationProxy","wixappsCore/proxies/sliderGalleryProxy","wixappsCore/proxies/stackProxy","wixappsCore/proxies/switchBoxProxy","wixappsCore/proxies/textAreaProxy","wixappsCore/proxies/textInputProxy","wixappsCore/proxies/toggleProxy","wixappsCore/proxies/vBoxProxy","wixappsCore/proxies/flowListProxy","wixappsCore/proxies/videoProxy","wixappsCore/proxies/videoThumbProxy","wixappsCore/proxies/viewProxy","wixappsCore/proxies/verticalLineProxy"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N){"use strict";a.register("ZoomLink",b),a.register("AppLink",c),a.register("NativeAppLink",d),a.register("Area",e),a.register("Container",e),a.register("Button2",g),a.register("Button",f),a.register("ClippedParagraph",h),a.register("ClippedParagraph2",h),a.register("ComboBox",i),a.register("Css",j),a.register("Date",k),a.register("ErasableTextInput",l),a.register("FixedRatioLayout",m),a.register("Gallery",n),a.register("HBox",o),a.register("HorizontalLine",p),a.register("Icon",q),a.register("ImageButton",r),a.register("ImageButtonWithText",s),a.register("Image",t),a.register("InlineSpacer",u),a.register("InlineText",v),a.register("Label",w),a.register("Link",x),a.register("MediaLabel",z),a.register("ColumnGallery",A),a.register("PaginatedColumnGallery",A),a.register("Pagination",B),a.register("SliderGallery",C),a.register("Stack",D),a.register("SwitchBox",E),a.register("TextArea",F),a.register("TextInput",G),a.register("Toggle",H),a.register("VBox",I),a.register("VerticalList",y),a.register("List2",y),a.register("PaginatedList",y),a.register("FlowList",J),a.register("Video",K),a.register("VideoThumb",L),a.register("View",M),a.register("VerticalLine",N)}),define("wixappsCore/core/wixappsDataAspect",["lodash","core","wixappsCore/core/wixappsDataHandler"],function(a,b,c){"use strict";function e(a){this.aspectSiteApi=a}var d=b.siteAspectsRegistry;e.prototype={getDescriptor:function(a){return c.getDescriptor(this.aspectSiteApi.getSiteData(),a)},getDataByCompId:function(a,b){return c.getDataByCompId(this.aspectSiteApi.getSiteData(),a,b)},getExtraDataByCompId:function(a,b){return c.getExtraDataByCompId(this.aspectSiteApi.getSiteData(),a,b)},getDataByPath:function(a,b){return c.getDataByPath(this.aspectSiteApi.getSiteData(),a,b)},setDataByPath:function(a,b,d){c.setDataByPath(this.aspectSiteApi.getSiteData(),a,b,d),this.aspectSiteApi.forceUpdate()},setBatchedData:function(b,d,e){if(0!==d.length){var f=this.aspectSiteApi.getSiteData();a.forEach(d,function(a){c.setDataByPath(f,b,a.path,a.value)}),e||this.aspectSiteApi.forceUpdate()}},getMetadata:function(a,b){return b?c.getCompMetadata(this.aspectSiteApi.getSiteData(),a,b):c.getPackageMetadata(this.aspectSiteApi.getSiteData(),a)},setMetadata:function(a,b,d){c.setPackageMetadata(a,this.aspectSiteApi.getSiteData(),b,d),this.aspectSiteApi.forceUpdate()}},d.registerSiteAspect("wixappsDataAspect",e)}),define("wixappsCore",["wixappsCore/core/viewsRenderer","wixappsCore/core/viewsCustomizer","wixappsCore/core/proxyFactory","wixappsCore/core/logicFactory","wixappsCore/core/styleCollector","wixappsCore/core/styleData","wixappsCore/core/ViewContextMap","wixappsCore/core/wixappsDataHandler","wixappsCore/core/wixappsLogger","wixappsCore/proxies/mixins/baseProxy","wixappsCore/proxies/mixins/inputProxy","wixappsCore/core/typesConverter","wixappsCore/util/videoThumbDataHandler","wixappsCore/proxies/mixins/baseCompositeProxy","wixappsCore/util/spacersCalculator","wixappsCore/core/wixappsConfiguration","wixappsCore/core/linksConverter","wixappsCore/util/localizer","wixappsCore/core/expressions/functionLibrary","wixappsCore/util/viewsUtils","wixappsCore/util/memoizedViewsUtils","wixappsCore/util/richTextUtils","wixappsCore/util/wixappsUrlParser","wixappsCore/util/typeNameResolver","wixappsCore/util/styleMapping","wixappsCore/core/expressions/expression","wixappsCore/proxies/proxyMap","wixappsCore/core/wixappsDataAspect"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z){"use strict";return{viewsRenderer:a,viewsCustomizer:b,proxyFactory:c,baseProxy:j,inputProxy:k,baseCompositeProxy:n,typesConverter:l,logicFactory:d,ViewContextMap:g,wixappsDataHandler:h,wixappsLogger:i,videoThumbDataHandler:m,styleCollector:e,spacersCalculator:o,wixappsConfiguration:p,linksConverter:q,localizer:r,FunctionLibrary:s,viewsUtils:t,memoizedViewsUtils:u,wixappsUrlParser:w,typeNameResolver:x,styleData:f,richTextUtils:v,convertStringToPrimitive:z.convertStringToPrimitive,styleMapping:y,expression:{evaluate:z.evaluate,isExpression:z.isExpression}}});