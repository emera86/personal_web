define("loggingUtils/bi/errors.json",[],function(){return{SINGLE_PAGE_RETRIEVAL_ATTEMPT_FAILED:{errorCode:111020,severity:"warning",params:{p2:"pageId",p1:"hostname",p3:"url",p4:"responseStatusCode"}},ALL_PAGE_RETRIEVAL_ATTEMPTS_FAILED:{errorCode:111021,severity:"fatal",params:{p1:"pageId"}},UNHANDLED_LINK_TYPE_IN_DATA_FIXER:{errorCode:21067,severity:"fatal",params:{p1:"newLinkDataItem"}}}}),define("loggingUtils/bi/services/wixBI",["lodash","coreUtils"],function(a,b){"use strict";function h(b,c){var e=d&&"editor"===c.adapter?window.parent.mainLoaded:0;return e=e||b.wixBiSession.initialTimestamp||b.wixBiSession.mainLoaded,a.now()-e}function i(c,d){var f;a.defaults(d,e),f="string"==typeof d.queryString?d.queryString:b.urlUtils.toQueryString(a.defaults(d.params,{ts:h(c,d)})),g(d.biUrl,d.adapter,f)}var c="undefined"!=typeof window,d=c&&window.queryUtil&&window.queryUtil.isParameterTrue("isEdited"),e={biUrl:"http://frog.wixpress.com",adapter:"",params:{}},f=function(){if(!c)return!0;for(var a=[/bot/i,/Google Web Preview/i,/^Mozilla\/4\.0$/],b=window.navigator.userAgent,d=0;d<a.length;++d)if(a[d].test(b))return!0;return!1}(),g=f?function(){}:function(a,b,c){var d=new window.Image;"/"!==a.substr(-1)&&(a+="/"),d.src=a+b+"?"+c};return{report:i}}),define("loggingUtils/bi/services/googleAnalytics",["lodash","coreUtils"],function(a,b){"use strict";function d(b,c,d){function e(){var e=window._gaq||[];window._gaq=e,a.forEach(c,function(a,c){var f=0===c?"":"t"+c+".";e.push([f+"_setAccount",a],[f+"_setAllowAnchor",!0]),d&&e.push([f+"_setCustomVar",1,"version",d.ver,1],[f+"_setCustomVar",2,"language",d.lng,1],[f+"_setCustomVar",3,"userType",d.userType,1]),e.push([f+"_trackPageview",b])})}window._gaq?e():requirejs(["https://stats.g.doubleclick.net/dc.js"],e,a.noop)}function e(b,c){a.isEmpty(b)||(window.ga?c():requirejs(["//www.google-analytics.com/analytics.js"],function(){window.ga=window.ga||function(){(window.ga.q=window.ga.q||[]).push(arguments)},window.ga.l=a.now(),window.ga.q=window.ga.q||[],a.forEach(b,function(a){window.ga("create",a,"auto")}),c()},a.noop))}var c=200;return{reportPageEvent:function(a,f,g,h){"undefined"!=typeof window&&setTimeout(function(){a.isUsingUrlFormat(b.siteConstants.URL_FORMATS.SLASH)?e(g,function(){window.ga("send","pageview",{page:f})}):d(f,g,h)},c)},report:function(b){var c=a.rest(arguments);e(b,function(){window.ga.apply(window.ga,c)})}}}),define("loggingUtils/bi/services/facebookRemarketing",["lodash","coreUtils","experiment"],function(a,b,c){"use strict";function d(a){if(f(a)){var b=window._fbq||(window._fbq=[]);if(!b.loaded){var c=document.createElement("script");c.async=!0,c.src="//connect.facebook.net/en_US/fbds.js";var d=document.getElementsByTagName("script")[0];d.parentNode.insertBefore(c,d),b.loaded=!0}b.push(["addPixelId",a[0]]),window._fbq.push(["track","PixelInitialized",{}])}}function e(a){var b,c,d;!window.fbq&&f(a)&&(b=window.fbq=function(){b.callMethod?b.callMethod.apply(b,arguments):b.queue.push(arguments)},window._fbq||(window._fbq=b),b.push=b,b.loaded=!0,b.version="2.0",b.queue=[],c=document.createElement("script"),c.async=!0,c.src="//connect.facebook.net/en_US/fbevents.js",d=document.getElementsByTagName("script")[0],d.parentNode.insertBefore(c,d),window.fbq("init",a[0]),window.fbq("track","PageView"))}function f(b){return Number(b[0])&&a.isString(b[0])&&1===b.length}return{initRemarketingPixel:function(a,f){a.isUsingUrlFormat(b.siteConstants.URL_FORMATS.SLASH)&&c.isOpen("sv_NewFacebookConversionPixel")?e(f):d(f)}}}),define("loggingUtils/bi/services/googleRemarketing",["lodash"],function(a){"use strict";function d(d){!b&&e(d)&&(a.assign(c,{google_conversion_id:d[0]}),f(),b=!0)}function e(b){return a.isArray(b)&&1===b.length&&Number(b[0])}function f(){var a=document.createElement("script");a.type="text/javascript",a.src="//www.googleadservices.com/pagead/conversion_async.js",a.async=!0,a.setAttribute("onload","google_trackConversion("+JSON.stringify(c)+")");var b=document.getElementsByTagName("script")[0];b.parentNode.insertBefore(a,b)}function g(){b&&window.google_trackConversion&&window.google_trackConversion(c)}var b=!1,c={google_custom_params:{},google_remarketing_only:!0};return{initRemarketingPixel:d,fireRemarketingPixel:g}}),define("loggingUtils/bi/services/yandexMetrika",["lodash"],function(a){"use strict";function e(b){return a.isArray(b)&&a.isFinite(parseInt(b[0],10))}function f(a){d="yaCounter"+a}function g(a){(window[b]=window[b]||[]).push(function(){try{window[d]=new window.Ya.Metrika(i(a))}catch(b){}})}function h(){if(!c){var a=document.getElementsByTagName("script")[0],b=document.createElement("script");b.type="text/javascript",b.async=!0,b.src="https://mc.yandex.ru/metrika/watch.js",b.addEventListener("load",function(){c=!0}),a.parentNode.insertBefore(b,a)}}function i(a){return{id:parseInt(a,10),clickmap:!0,trackLinks:!0,accurateTrackBounce:!0,webvisor:!0,trackHash:!0}}var d,b="yandex_metrika_callbacks",c=!1;return{initialize:function(a){e(a)&&(f(a[0]),g(a[0]),h())},reportPageHit:function(b){c&&window[d]&&a.isFunction(window[d].hit)&&window[d].hit(b)}}}),define("loggingUtils/bi/bi",["loggingUtils/bi/services/wixBI","loggingUtils/bi/services/googleAnalytics","loggingUtils/bi/services/facebookRemarketing","loggingUtils/bi/services/googleRemarketing","loggingUtils/bi/services/yandexMetrika"],function(a,b,c,d,e){"use strict";return{wixBI:a,googleAnalytics:b,facebookRemarketing:c,googleRemarketing:d,yandexMetrika:e}}),define("loggingUtils/logger/newrelic",["lodash"],function(a){"use strict";if(!("undefined"==typeof window||window.queryUtil&&window.queryUtil.isParameterTrue("suppressbi"))){var b;try{b=window.parent.newrelic}catch(c){b=window.newrelic}if(b){var d=window.performance&&window.performance.now?function(){return Math.round(window.performance.now())}:function(){return 0};return{setCustomAttribute:b.setCustomAttribute.bind(b),addPageAction:function(c,e){var f=d();return e=a.assign({},e,{timeSinceNavigate:f}),b.addPageAction(c,e)},finished:function(){var a=d();return a&&this.setCustomAttribute("timeSinceNavigate",d()),b.finished.apply(b,arguments)}}}}return{setCustomAttribute:a.noop,addPageAction:a.noop,finished:a.noop}}),define("loggingUtils/logger/performance",["lodash","loggingUtils/logger/newrelic"],function(a,b){"use strict";var c="undefined"!=typeof window&&window.queryUtil;if(!c||c.isParameterTrue("suppressperformance"))return{mark:a.noop,measure:a.noop,start:a.noop,finish:a.noop,time:function(a,b){return b.apply(this,Array.prototype.slice.call(arguments,2))},getMark:a.noop,getMeasure:a.noop,clearMarks:a.noop,clearMeasures:a.noop,now:a.now};var d,e=window.performance;if(e&&e.now)d=e.now.bind(e);else{var f=window.wixBiSession&&window.wixBiSession.initialTimestamp||0;d=function(){return a.now()-f}}var h,g=c.getParameterByName("debug")&&"force"!==c.getParameterByName("sampleratio")?a.noop:function(c,d){c&&(d=a.defaults({measureName:c.name,startTime:Math.round(c.startTime),duration:Math.round(c.duration)},d),b.addPageAction("measure",d))};if(e&&e.measure){var i=function(b,c){return a.find(e.getEntriesByName(c),{entryType:b})};h={mark:e.mark.bind(e),measure:function(a,b,c,d,f){try{e.measure(a,b,c),d&&g(h.getMeasure(a),f)}catch(i){}},getMark:i.bind(this,"mark"),getMeasure:i.bind(this,"measure"),clearMarks:e.clearMarks.bind(e),clearMeasures:e.clearMeasures.bind(e)}}else{var j={domLoading:{name:"domLoading",startTime:0}},k={},l=function(a,b){b?delete a[b]:a={}};h={mark:function(a){j[a]={name:a,startTime:d()}},measure:function(a,b,c,d,e){var f=h.getMark(b),i=h.getMark(c);if(f&&i){var j={name:a,startTime:f.startTime,duration:i.startTime-f.startTime};isNaN(j.duration)||(k[a]=j,d&&g(j,e))}},getMark:function(a){return j[a]},getMeasure:function(a){return k[a]},clearMarks:l.bind(this,j),clearMeasures:l.bind(this,k)}}return h.start=function(a){h.mark(a+" start")},h.finish=function(a,b,c){var d=a+" start",e=a+" finish";h.mark(e),h.measure(a,d,e,b,c),h.clearMarks(d),h.clearMarks(e)},h.time=function(a,b,c,d){try{return h.start(a),b.apply(this,Array.prototype.slice.call(arguments,4))}finally{h.finish(a,c,d)}},h.now=d,h}),define("loggingUtils/logger/beat",["lodash","loggingUtils/bi/bi","coreUtils","loggingUtils/logger/performance"],function(a,b,c,d){"use strict";function q(b){var d=c.urlUtils.toQueryString(a.omit(b,n),!0);return a.reduce(n,function(a,d){return a+"&"+c.urlUtils.toQueryParam(d,b[d],!0)},d)}function r(b,c,d,e){var f=s(b),g=t(b,d,e),h={et:y(d)};return a.merge({},c,f,g,h)}function s(a){return{vuuid:v(),vid:j,dc:a.serviceTopology.serverName,vsi:g[a.siteId].viewerSessionId,uuid:a.siteHeader.userId,sid:a.siteId,msid:a.getMetaSiteId()}}function t(b,c,d){return{pid:d,pn:w(b,c),st:u(b),sr:A(),wr:B(),isjp:f.maybeBot?"1":"0",isp:b.isPremiumDomain(),url:z(b.currentUrl.full),ref:document.referrer,ts:x(b,c),c:a.now(),v:b.baseVersion||"unknown"}}function u(b){var c=b.rendererModel.siteInfo.documentType,d=a.indexOf(h,c);return-1!==d?d:c}function v(){var b=c.cookieUtils.getCookie("_wixUIDX")||"";return b=b.slice(a.lastIndexOf(b,"|")+1),b=b.replace(/^(null-user-id|null)$/g,"")}function w(a,b){return"start"===b&&g[a.siteId].pageNumber++,g[a.siteId].pageNumber}function x(b,c){return"start"===c?(g[b.siteId].lastTimeStamp=a.now(),0):a.now()-g[b.siteId].lastTimeStamp}function y(b){var c=a.indexOf(i,b);return-1!==c?c:b>3?b:-1}function z(a){return a.replace(/^http(s)?:\/\/(www\.)?/,"").substring(0,256)}function A(){var a=window.screen&&window.screen.width||0,b=window.screen&&window.screen.height||0;return a+"x"+b}function B(){var a=0,b=0;return window.innerWidth?(a=window.innerWidth,b=window.innerHeight):window.document&&(document.documentElement&&document.documentElement.clientWidth?(a=document.documentElement.clientWidth,b=document.documentElement.clientHeight):document.body&&document.body.clientWidth&&(a=document.body.clientWidth,b=document.body.clientHeight)),a+"x"+b}function C(a,b){f.et=b.et,a.wixBiSession.et=b.et}function D(a){return a>3&&16!==a}function E(a){var b=e[a];return e[a]=!0,b}function F(a,b){return a&&a.wixBiSession.viewerSessionId&&"preview"!==a.viewMode&&!c.stringUtils.isTrue(a.currentUrl.query.suppressbi)&&-1!==y(b)&&(!D(b)||!E(b))}function G(a){g[a.siteId]=g[a.siteId]||{pageNumber:1,lastTimeStamp:a.wixBiSession.initialTimestamp||0,viewerSessionId:a.wixBiSession.viewerSessionId||c.guidUtils.getGUID()}}function H(a,b){return{queryString:q(b),adapter:l.adapter,biUrl:a.getServiceTopologyProperty("biServerUrl")||l.biUrl}}function I(a,b){if(!b)return!0;var c=a.currentUrl.query.sampleratio;return a.isDebugMode()&&"force"!==c||"none"===c?!0:0===Math.floor(a.wixBiSession.random*b)}function J(a,c){if(I(a,p[c.et])){var d=H(a,c);b.wixBI.report(a,d)}}function K(a,b,c){var d=setTimeout(function(){d=0,c(b)},k);a.subSvSession(function(a){d&&(clearTimeout(d),b.vid=a||j,c(b))})}function M(a,b,c){G(a);var e=r(a,m,b,c);C(a,e),F(a,b)&&K(a,e,J.bind(null,a));var f=a.viewMode;f="site"===f?"":" "+f,L||(d.measure("main-r started"+f,"domLoading","beat 4",!0),d.measure("utils loaded"+f,"beat 4","beat 5",!0),L="beat 5");var g="beat "+b;d.mark(g);var h=o[b]||b;d.measure(h+f,L,g,!0),L=g}var e=[],f={};"undefined"!=typeof window&&window.wixBiSession&&(f=window.wixBiSession,f.beat(5));var L,g={},h=["No Site Type","WixSite","UGC","Template"],i=["No Event Type","start","reset","finish"],j="NO_SV",k=2e3,l={adapter:"bt",biUrl:"http://frog.wix.com/"},m={src:29,evid:3},n=["url","ref"],o={6:"packages loaded",7:"load data",8:"render",finish:"layout",16:"TPAs"},p={16:20};return{reportBeatEvent:M,shouldIncludeInSampleRatio:I}}),define("loggingUtils/logger/logger",["lodash","loggingUtils/bi/bi","loggingUtils/logger/beat","coreUtils"],function(a,b,c,d){"use strict";function l(a){return"string"==typeof a?i[a]:a}function m(a){return{errn:a.errorName,evid:10,sev:l(a.severity),cat:e?1:2,iss:1,ut:d.cookieUtils.getCookie("userType")}}function n(b,c){var d=a.merge({src:44,sev:30,errn:"error_name_not_found"},v(b,h),m(b),u(b,c));return c&&c.description&&(d.desc=JSON.stringify(c.description).slice(0,512)),d}function o(b,c){return a.merge({src:42},v(b,j),u(b,c))}function p(b,c,d,e){var f;switch(c){case"error":f=n(d,e);break;case"event":f=o(d,e)}return a.merge(f,s(b))}function q(a,b,c){var d=b.reportType||(b.errorCode||b.errc?"error":"event");return{biUrl:a.serviceTopology.biServerUrl,adapter:b.adapter||b.endpoint||("error"===d?"trg":"ugc-viewer"),params:p(a,d,b,c)}}function r(a){var b=a.santaBase&&a.santaBase.match(/([\d\.]+)\/?$/);return b&&b[1]||""}function s(b){k[b.siteId]=k[b.siteId]||b.wixBiSession.viewerSessionId||d.guidUtils.getGUID();var c=b.serviceTopology.serverName?a.first(b.serviceTopology.serverName.split(".")):"",g={did:b.siteId,msid:b.getMetaSiteId(),majorVer:f,ver:r(b),server:c,viewMode:b.viewMode};return e||(g.vsi=k[b.siteId]),g}function t(a){return"string"==typeof a?encodeURIComponent(a):a}function u(b,c){var d={},e=b.params;return d=a.isArray(e)?a.pick(c,e):a.isObject(e)?a.mapValues(e,function(a){return t(c[a])}):a.mapValues(c,t)}function v(b,c){return a.transform(b,function(a,b,d){var e=c[d];e&&(a[e]=b)},{})}function w(a){return d.stringUtils.isTrue(a.currentUrl.query.suppressbi)}function x(a){return a?(a.callCount=a.callCount||0,a.callCount++,a.callLimit&&a.callCount>a.callLimit):!1}function y(a,b){if(a.forceBI)return!0;var d=g;return b&&(a.isWixSite()&&"wixSiteSampleRatio"in b?d=b.wixSiteSampleRatio:"sampleRatio"in b?d=b.sampleRatio:("errorCode"in b||"editor"===b.endpoint)&&(d=0)),d&&d>=1?c.shouldIncludeInSampleRatio(a,d):!0}function z(a,b){return!w(a)&&!x(b)&&y(a,b)}function A(c,d,e){if(c&&a.isObject(d)&&z(c,d)){var f=q(c,d,e);b.wixBI.report(c,f)}}function B(a,b){var c=[],d=a.isPremiumDomain();switch(b){case"googleAnalytics":C(a,b)&&c.push(a.googleAnalytics);break;case"facebookRemarketing":C(a,b)&&d&&c.push(a.facebookRemarketing);break;case"googleRemarketing":C(a,b)&&d&&c.push(a.googleRemarketing);break;case"yandexMetrika":C(a,b)&&d&&c.push(a.yandexMetrika)}return c}function C(b,c){return!a.isEmpty(b[c])}function D(a){e||w(a)||b.facebookRemarketing.initRemarketingPixel(a,B(a,"facebookRemarketing"))}function E(a){e||w(a)||b.googleRemarketing.initRemarketingPixel(B(a,"googleRemarketing"))}function F(){b.googleRemarketing.fireRemarketingPixel()}function G(a){e||w(a)||b.yandexMetrika.initialize(B(a,"yandexMetrika"))}function H(a){b.yandexMetrika.reportPageHit(a)}function I(c,d){c&&a.isString(d)&&!e&&!w(c)&&b.googleAnalytics.reportPageEvent(c,d,B(c,"googleAnalytics"))}function J(c){if(!e){var d=B(c,"googleAnalytics");b.googleAnalytics.report.apply(null,[d].concat(a.rest(arguments)))}}function K(b,c,d){a.forOwn(d,function(a){a.packageName=b})}var e="undefined"!=typeof window&&window.queryUtil&&window.queryUtil.isParameterTrue("isEdited"),f="undefined"==typeof window||window.clientSideRender?3:4,g=10,h={errorName:"errn",errorCode:"errc",errc:"errc",src:"src",severity:"sev",sev:"sev",packageName:"errscp"},i={recoverable:10,warning:20,error:30,fatal:40},j={eventId:"evid",evid:"evid",src:"src"},k={};return{reportBI:A,reportGoogleAnalytics:J,reportPageEvent:I,register:K,reportBeatEvent:c.reportBeatEvent,initFacebookRemarketingPixel:D,initGoogleRemarketingPixel:E,fireGoogleRemarketingPixel:F,initYandexMetrika:G,reportYandexPageHit:H,shouldSendReport:z}}),define("loggingUtils/bi/errors",["loggingUtils/bi/errors.json","lodash","loggingUtils/logger/logger"],function(a,b,c){"use strict";return b.forEach(a,function(a,b){a.errorName=b}),c.register("utils","error",a),a}),define("loggingUtils/log/log",["lodash","coreUtils"],function(a,b){"use strict";var c=console.log.bind(console),d="undefined"==typeof window?!0:"all"===b.urlUtils.parseUrl(a.get(window,["location","href"],"")).query.debug,e=d?c:a.noop;return{verbose:e,info:c,warn:console.warn.bind(console),error:console.error.bind(console)}}),define("loggingUtils",["loggingUtils/bi/errors","loggingUtils/logger/logger","loggingUtils/log/log","loggingUtils/logger/performance","loggingUtils/logger/newrelic"],function(a,b,c,d,e){"use strict";var f={bi:{errors:a},logger:b,log:c,performance:d,newrelic:e};return f});